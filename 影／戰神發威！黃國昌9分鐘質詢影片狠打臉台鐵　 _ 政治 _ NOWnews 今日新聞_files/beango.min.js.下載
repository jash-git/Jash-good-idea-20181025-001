function createBGO(){function i(o){var e,t,n=(e=1e6,t=9999999,"beango"+(Math.floor(Math.random()*(t-e+1))+e));return window[n]=function(e){var t=JSON.parse(e);o(t),delete window[n]},n}function n(e){new Date;var t="https://tkportal.aotter.net/tr?"+function(e){var t="";for(var o in e)t+=o+"="+encodeURI(e[o]||"")+"&";return t}(e),o=new XMLHttpRequest;o.onreadystatechange=function(){4==this.readyState&&200==this.status&&(s(t),s(this.response))},o.open("GET",t,!0),o.send(),ga("create","UA-109448979-3","auto"),ga("send","event",e.cd2,e.cd1,e.cu)}function r(e,t,o){n({ev:"PageView",cid:"HEbnXb6ZmVQkowetz9EU",cu:t,cd1:o,cd2:e})}function s(e){console.log(JSON.stringify(e))}var c=null,p=!0;function a(e,t){if(p){p=!1;var o=i((n=e.type,a=d,function(e){s("get user id ====>"+JSON.stringify(e)),!e.error&&e.user_id?(c=e.user_id,r(n,e.user_id,a)):s("get user id error :"+JSON.stringify(e))}));s("is fisrt time ! get_me_userid task on. =>"+o),_({type:"get_me_userid",params:{callback:o}},s)}else r(e.type,c,d);var n,a;t||(t=s),_(e,t)}function _(e,t){var o,n=(o=navigator.userAgent||navigator.vendor||window.opera,/iPhone|iPad|iPod/i.test(o)?"iOS":/Android/i.test(o)?"Android":"unknown"),a=navigator.userAgent;console.log("userAgent="+a);if(/BeanGo/.test(a))if("iOS"===n)if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.beango)try{window.webkit.messageHandlers.beango.postMessage(e)}catch(e){return void t({error:404,message:"postMessage error"})}else t({error:404,message:"beango not exist"});else if("Android"===n)if(window.beango)try{window.beango.postMessage(JSON.stringify(e))}catch(e){return void t({error:404,message:"postMessage error"})}else t({error:404,message:"beango not exist"});else t({error:404,message:"device not support"});else t({error:404,message:"Not BeanGo user agent"})}function e(){this.options={token:""},this.whether_accept_auth_or_not=function(e,t){a({type:"whether_accept_auth_or_not",params:{client_id:e,accept:t}})},this.is_widget_pin=function(e,t){var o,n;o=e,a({type:"is_widget_pin",params:{callback:i(n=t),widget_id:o}},n)},this.pin_widget=function(e,t){var o,n;o=e,a({type:"pin_widget",params:{callback:i(n=t),widget:o}},n)},this.open_widget=function(e){a({type:"open_widget",params:{widget_id:e}})}}var d="";return e.prototype.init=function(e){!function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])}(this.options,e),d=this.options.official_account_id},e.prototype.get_me_chatid=function(e){a({type:"get_me_chatid",params:{callback:i(e),token:this.options.token}},e)},e.prototype.send_message=function(e,t,o){e.hasOwnProperty("info")&&(e.info.official_account_id=this.options.official_account_id),a({type:"send_message",params:{callback:i(o),token:this.options.token,request_id:(new Date).getTime().toString(),friends_only:t,msg_body:e}},o)},e.prototype.get_avaliable_user_chatid=function(e){a({type:"get_available_user_chatid",params:{callback:i(e),token:this.options.token}},e)},e.prototype.send_message_to_current_room=function(e,t){e.hasOwnProperty("info")&&(e.info.official_account_id=this.options.official_account_id),a({type:"send_message_to_current_room",params:{callback:i(t),token:this.options.token,request_id:(new Date).getTime().toString(),msg_body:e}},t)},e.prototype.get_me_openid_access_token=function(e,t,o){a({type:"get_me_openid_access_token",params:{callback:i(o),token:this.options.token,client_id:e,redirect_uri:t}},o)},e.prototype.leave_extension=function(){a({type:"leave_extension"},s)},e.prototype.scan_qr_code=function(e,t){a({type:"scan_qr_code",params:{callback:i(t),style:e}},t)},e.prototype.redirect_uri_by_default_browser=function(e){a({type:"redirect_uri_by_default_browser",params:{uri:e}})},e.prototype.get_3rd_oauth=function(e,t){a({type:"get_3rd_oauth",params:{service:e,callback:i(t),token:this.options.token}},t)},e.prototype.get_current_room_users_openid=function(e){a({type:"get_current_room_users_openid",params:{callback:i(e),token:this.options.token}},e)},e.prototype.get_cropped_image=function(e,t){a({type:"get_cropped_image",params:{callback:i(t),crop_type:e}},t)},e.prototype.send_data_to_apps=function(e){a({type:"send_data_to_apps",params:e})},e.prototype.get_me_location=function(e){a({type:"get_me_location",params:{callback:i(e)}},e)},e.prototype.force_reload_page=function(){a({type:"force_reload_page"})},new e}!function(e,t,o,n,a,i,r){e.GoogleAnalyticsObject=a,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,i=t.createElement(o),r=t.getElementsByTagName(o)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",r.parentNode.insertBefore(i,r)}(window,document,"script",0,"ga"),window.BGO=createBGO();