/*! automatically generated; DO NOT CHANGE : 10:47:37 GMT+0800 (CST) !*/
var _pop=_pop||[];var _popIn5_config={};(function(){var l=function(j){var i=j.container;var s=i.querySelector("._popIn_recommend_header");s.innerHTML='<h3><i class="fa fa-bolt fa-fw"></i>您也可能喜歡這些文章</h3>'};var b=function(F){var s=F.container;var H=s.querySelector("._popIn_recommend_header");H.innerHTML='<div class="td_block_template_1"><h4 class="td-related-title td-block-title"><a class="td-related-left td-cur-simple-item" href="#">猜您喜歡</a></h4></div>';var j=s.querySelectorAll("._popIn_recommend_art_date");for(var G=0,D=j.length;G<D;G++){var I=j[G];var J=I.textContent;if(J!==""){var E=J.split("-");E[1]=("0"+E[1]).slice(-2);E[2]=("0"+E[2]).slice(-2);I.innerHTML=E.join("-")}}};var n={};n["collect.mobile"]="#_popIn_recommend {         display : none ;     }     ._popIn_recommend_container {         display : none ;     } ";n["renew.mobile"]="#popIn_renew ._popIn_infinite_page {         overflow : hidden ;     }     #popIn_renew ._popIn_infinite_ad {         padding : 5px 0px ;         border-bottom : 1px solid rgba(0,0,0,.12) ;         line-height : 1 ;         text-align : center ;         box-sizing : initial ;     }     #popIn_renew ._popIn_infinite_empty {         display : none ;     }     #popIn_renew {         margin : 0px ;         padding : 0px 0px 40px 0px ;         position : relative ;         background-color : white ;     }     #popIn_renew ._popIn_recommend_container h3 i:before {         content : \"\\f004\" ;     }     #popIn_renew ._popIn_recommend_header .td-related-title {         margin-bottom : 0 !important ;     }     #popIn_renew ._popIn_recommend_header .td-cur-simple-item {         color : #333 !important ;     }     #popIn_renew ._popIn_recommend_articles {         white-space : nowrap ;     }     #popIn_renew ._popIn_recommend_article {         display : block ;         white-space : normal ;         padding : 13px 0 ;         overflow : hidden ;         clear : both ;     }     #popIn_renew ._popIn_recommend_art_title {         display : -webkit-box ;         -webkit-line-clamp : 2 ;         -webkit-box-orient : vertical ;         text-align : left ;         font-size : 14px ;         font-weight : 500 ;         height : 40px ;         line-height : 20px ;         padding : 0px ;         overflow : hidden ;     }     #popIn_renew ._popIn_recommend_art_title a {         font-family : 'Noto Sans TC',  Helvetica, '微軟正黑','Microsoft Yahei','Microsoft JhengHei', sans-serif ;         color : #111111 ;         text-decoration : none ;     }     #popIn_renew ._popIn_recommend_art_category {         display : none ;     }     #popIn_renew ._popIn_recommend_art_media, #popIn_renew ._popIn_recommend_art_date {         margin : 5px 0px 0px 0px ;         font-size : 16px ;         line-height : 1 ;         font-weight : 400 ;         font-family : 'Noto Sans TC',  Helvetica, '微軟正黑','Microsoft Yahei','Microsoft JhengHei', sans-serif ;         color : #aaa ;     }     #popIn_renew ._popIn_recommend_art_media {         font-size : 14px ;     }     #popIn_renew ._popIn_recommend_art_img {         float : left ;         width : 100px ;         height : 70px ;         margin-right : 10px ;     }     #popIn_renew ._popIn_recommend_art_img a {         margin : 0px ;         width : 100% ;         height : 100% ;         display : inline-block ;         overflow : hidden ;         background-position : top center ;         background-size : cover ;         opacity : 0 ;         transition  : opacity 500ms ;         -moz-transition  : opacity 500ms ;         -o-transition  : opacity 500ms ;         -webkit-transition  : opacity 500ms ;     }     #popIn_renew ._popIn_recommend_no_img {         display : none ;     }     #popIn_renew ._popIn_recommend_art_img a img {     }     #popIn_renew ._popIn_recommend_credit {         position : absolute ;         right : 5px ;         font-size : 10px ;         opacity : 0.6 ;         bottom : 20px ;     }     #popIn_renew ._popIn_recommend_credit_image {         display : inline-block ;         width : 40px ;         height : 10px ;         margin : 2px 0 0 3px ;         background-image : url(//api.popin.cc/images/logo.png) ;         background-repeat : no-repeat ;         background-position : 0px 0px ;         background-size : 40px 20px ;         vertical-align : text-top ;     }     #popIn_renew ._popIn_infinite_video {         border-bottom : 1px solid rgba(0,0,0,.12) ;     } ";n["standard.mobile"]='#popIn_old ._popIn_infinite_page {         overflow : hidden ;     }     #popIn_old ._popIn_infinite_ad {         padding : 5px 0px ;         border-bottom : 1px solid rgba(0,0,0,.12) ;         line-height : 1 ;         text-align : center ;         box-sizing : initial ;     }     #popIn_old ._popIn_infinite_empty {         display : none ;     }     #popIn_old {         margin : 0px ;         padding : 0px 0px 40px 0px ;         position : relative ;         background-color : white ;     }     #popIn_old ._popIn_recommend_container h3 i:before {         content : "\\f004" ;     }     #popIn_old ._popIn_recommend_header {         border-bottom : 1px solid rgba(0,0,0,.12) ;         font-size : 16px ;         font-weight : bold ;         line-height : 1.1 ;     }     #popIn_old ._popIn_recommend_articles {         white-space : nowrap ;     }     #popIn_old ._popIn_recommend_article {         display : block ;         white-space : normal ;         height : 110px ;         padding : 10px 0 ;         border-bottom : 1px solid rgba(0,0,0,.12) ;         margin-top : 1px ;         overflow : hidden ;         clear : both ;     }     #popIn_old ._popIn_recommend_art_title {         text-align : left ;         font-size : 14px ;         font-weight : 400 ;         height : 70px ;         color : rgba(0,0,0,.87) ;         line-height : 1.429 ;         padding : 0px ;         overflow : visible ;     }     #popIn_old ._popIn_recommend_art_title a {         font-size : 14px ;         font-weight : 400 ;         color : rgba(0,0,0,.87) ;         line-height : 1.429 ;         text-decoration : none ;     }     #popIn_old ._popIn_recommend_art_category {         display : none ;     }     #popIn_old ._popIn_recommend_art_date {         display : none ;         margin : 5px 0px 0px 0px ;         font-size : 10px ;         color : #999 ;     }     #popIn_old ._popIn_recommend_art_media {         margin : 5px 0px 0px 0px ;         font-size : 8px ;         color : #999 ;     }     #popIn_old ._popIn_recommend_art_img {         float : left ;         width : 38% ;         height : 100% ;         margin-right : 10px ;     }     #popIn_old ._popIn_recommend_art_img a {         margin : 0px ;         width : 100% ;         height : 100% ;         display : inline-block ;         overflow : hidden ;         background-position : top center ;         background-size : cover ;         opacity : 0 ;         transition  : opacity 500ms ;         -moz-transition  : opacity 500ms ;         -o-transition  : opacity 500ms ;         -webkit-transition  : opacity 500ms ;     }     #popIn_old ._popIn_recommend_no_img {         display : none ;     }     #popIn_old ._popIn_recommend_art_img a img {     }     #popIn_old ._popIn_recommend_credit {         position : absolute ;         right : 5px ;         font-size : 10px ;         opacity : 0.6 ;         bottom : 20px ;     }     #popIn_old ._popIn_recommend_credit_image {         display : inline-block ;         width : 40px ;         height : 10px ;         margin : 2px 0 0 3px ;         background-image : url(//api.popin.cc/images/logo.png) ;         background-repeat : no-repeat ;         background-position : 0px 0px ;         background-size : 40px 20px ;         vertical-align : text-top ;     }     #popIn_old ._popIn_infinite_video {         border-bottom : 1px solid rgba(0,0,0,.12) ;     }     @media screen and (max-width: 321px) {         #popIn_old ._popIn_recommend_article {             height : 90px ;         }         .---_popIn_idx1, .---_popIn_idx2 {             height : 145px ;         }         #popIn_old ._popIn_recommend_art_title {             height : 56px ;         }     }    @media screen and (min-width: 445px) {         #popIn_old ._popIn_recommend_article {             height : 145px ;         }         .---_popIn_idx1, .---_popIn_idx2 {             height : 145px ;         }         #popIn_old ._popIn_recommend_art_title {             height : 56px ;         }     }';n["responsive.pc"]="#popIn_renew {         padding : 0 0 20px 0 ;         position : relative ;         clear : both ;         overflow : hidden ;     }     #popIn_renew ._popIn_noimage a {         background : url(//api.popin.cc/images/noimg.png) no-repeat center ;     }     #popIn_renew ._popIn_noimage a img {         display : none ;     }     #popIn_renew ._popIn_recommend_art_category {         display : none ;     }     #popIn_renew ._popIn_recommend_art_date {         text-align : left ;         display : none ;     }     #popIn_renew ._popIn_recommend_art_img {         width : 100% ;         padding-top : 66.6667% ;         margin-bottom : 7px ;         position : relative ;     }     #popIn_renew ._popIn_recommend_art_img a {         position : absolute ;         top : 0px ;         left : 0px ;         margin : 0px ;         width : 100% ;         height : 100% ;         display : inline-block ;         overflow : hidden ;         background-position : top center ;         background-size : cover ;         background-repeat : no-repeat ;         opacity : 0 ;         transition  : opacity 500ms ;         -moz-transition  : opacity 500ms ;         -o-transition  : opacity 500ms ;         -webkit-transition  : opacity 500ms ;     }     #popIn_renew ._popIn_recommend_art_img a img {     }     #popIn_renew ._popIn_recommend_art_title {         display : -webkit-box ;         -webkit-line-clamp : 3 ;         -webkit-box-orient : vertical ;         text-align : left ;         max-height : 60px ;         font-size : 13px ;         line-height : 20px ;         font-weight : 300 ;         overflow : hidden ;     }     #popIn_renew ._popIn_recommend_art_title a {         font-family : 'Noto Sans TC',  Helvetica, '微軟正黑','Microsoft Yahei','Microsoft JhengHei', sans-serif ;         color : #111111 ;         text-decoration : none ;     }     #popIn_renew ._popIn_recommend_articles {         margin : 0 -1.5% ;     }     #popIn_renew ._popIn_recommend_article {         text-decoration : none !important ;         display : inline-block ;         width : 30.333333% ;         margin : 0 1.5% 15px ;         position : relative ;         vertical-align : top ;     }     @media screen and (max-width: 480px) {         #popIn_renew ._popIn_recommend_art_title {             font-size : 15px ;         }         #popIn_renew ._popIn_recommend_articles {             margin : 0 -2% ;         }         #popIn_renew ._popIn_recommend_article {             width : 46% ;             margin : 0 2% 15px ;         }         #popIn_renew ._popIn_recommend_article:nth-child(5n+1) {             width : 96% ;         }         #popIn_renew ._popIn_recommend_article:nth-child(5n+1) ._popIn_recommend_art_img {             padding-top : 50% ;         }         #popIn_renew ._popIn_recommend_article:nth-child(5n+1) ._popIn_recommend_art_img a {             background-position : top center ;         }         #popIn_renew ._popIn_recommend_article:nth-child(5n+1) ._popIn_recommend_art_title {             height : 40px ;             font-size : 17px ;         }     }    #popIn_renew ._popIn_recommend_article:hover > ._popIn_recommend_art_title a {         text-decoration : none ;         transition : all 0.1s ease ;         -o-transition : all 0.1s ease ;         -moz-transition : all 0.1s ease ;         -webkit-transition : all 0.6s ease ;         color : #ee7800 ;     }     #popIn_renew ._popIn_recommend_header {         display : block ;         font-size : 1.3em ;     }     #popIn_renew ._popIn_recommend_no_img {     }     #popIn_renew ._popIn_recommend_art_media {         display : none ;     }     #popIn_renew ._popIn_recommend_article_ad ._popIn_recommend_art_media {         display : block ;         background : rgba(153, 153, 153, 0.41) ;         color : #fff ;         font-size : 8px ;         line-height : 10px ;         position : absolute ;         left : 0 ;         top : 0 ;         padding : 2px ;         font-weight : normal ;     }     #popIn_renew ._popIn_recommend_credit:hover {         opacity : 1 ;     }     #popIn_renew ._popIn_recommend_credit {         position : absolute ;         right : 5px ;         font-size : 5px ;         opacity : 0.6 ;         bottom : 5px ;     }     #popIn_renew ._popIn_recommend_credit_image {         display : inline-block ;         width : 40px ;         height : 10px ;         margin : 1px 0 0 4px ;         background-image : url(//api.popin.cc/images/logo.png) ;         background-repeat : no-repeat ;         background-position : 0px 0px ;         background-size : 40px 20px ;         vertical-align : text-top ;     }     #popIn_renew ._popIn_recommend_container:hover ._popIn_recommend_credit_image {         background-position : 0px -10px ;     } ";var o={};!function(){function H(i){i.fn.swiper=function(s){var J;return i(this).each(function(){var K=new E(this,s);J||(J=K)}),J}}var j,E=function(aB,ax){function ap(i){return Math.floor(i)}function at(){aE.autoplayTimeoutId=setTimeout(function(){aE.params.loop?(aE.fixLoop(),aE._slideNext(),aE.emit("onAutoplay",aE)):aE.isEnd?ax.autoplayStopOnLast?aE.stopAutoplay():(aE._slideTo(0),aE.emit("onAutoplay",aE)):(aE._slideNext(),aE.emit("onAutoplay",aE))},aE.params.autoplay)}function ar(N,L){var M=j(N.target);if(!M.is(L)){if("string"==typeof L){M=M.parents(L)}else{if(L.nodeType){var s;return M.parents().each(function(O,i){i===L&&(s=L)}),s?L:void 0}}}if(0!==M.length){return M[0]}}function av(M,i){i=i||{};var s=window.MutationObserver||window.WebkitMutationObserver,L=new s(function(N){N.forEach(function(O){aE.onResize(!0),aE.emit("onObserverUpdate",aE,O)})});L.observe(M,{attributes:"undefined"==typeof i.attributes?!0:i.attributes,childList:"undefined"==typeof i.childList?!0:i.childList,characterData:"undefined"==typeof i.characterData?!0:i.characterData}),aE.observers.push(L)}function aq(S){S.originalEvent&&(S=S.originalEvent);var T=S.keyCode||S.charCode;if(!aE.params.allowSwipeToNext&&(aE.isHorizontal()&&39===T||!aE.isHorizontal()&&40===T)){return !1}if(!aE.params.allowSwipeToPrev&&(aE.isHorizontal()&&37===T||!aE.isHorizontal()&&38===T)){return !1}if(!(S.shiftKey||S.altKey||S.ctrlKey||S.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===T||39===T||38===T||40===T){var W=!1;if(aE.container.parents(".swiper-slide").length>0&&0===aE.container.parents(".swiper-slide-active").length){return}var L={left:window.pageXOffset,top:window.pageYOffset},R=window.innerWidth,aF=window.innerHeight,O=aE.container.offset();aE.rtl&&(O.left=O.left-aE.container[0].scrollLeft);for(var N=[[O.left,O.top],[O.left+aE.width,O.top],[O.left,O.top+aE.height],[O.left+aE.width,O.top+aE.height]],P=0;P<N.length;P++){var M=N[P];M[0]>=L.left&&M[0]<=L.left+R&&M[1]>=L.top&&M[1]<=L.top+aF&&(W=!0)}if(!W){return}}aE.isHorizontal()?((37===T||39===T)&&(S.preventDefault?S.preventDefault():S.returnValue=!1),(39===T&&!aE.rtl||37===T&&aE.rtl)&&aE.slideNext(),(37===T&&!aE.rtl||39===T&&aE.rtl)&&aE.slidePrev()):((38===T||40===T)&&(S.preventDefault?S.preventDefault():S.returnValue=!1),40===T&&aE.slideNext(),38===T&&aE.slidePrev())}}function aC(R){R.originalEvent&&(R=R.originalEvent);var L=aE.mousewheel.event,N=0,P=aE.rtl?-1:1;if("mousewheel"===L){if(aE.params.mousewheelForceToAxis){if(aE.isHorizontal()){if(!(Math.abs(R.wheelDeltaX)>Math.abs(R.wheelDeltaY))){return}N=R.wheelDeltaX*P}else{if(!(Math.abs(R.wheelDeltaY)>Math.abs(R.wheelDeltaX))){return}N=R.wheelDeltaY}}else{N=Math.abs(R.wheelDeltaX)>Math.abs(R.wheelDeltaY)?-R.wheelDeltaX*P:-R.wheelDeltaY}}else{if("DOMMouseScroll"===L){N=-R.detail}else{if("wheel"===L){if(aE.params.mousewheelForceToAxis){if(aE.isHorizontal()){if(!(Math.abs(R.deltaX)>Math.abs(R.deltaY))){return}N=-R.deltaX*P}else{if(!(Math.abs(R.deltaY)>Math.abs(R.deltaX))){return}N=-R.deltaY}}else{N=Math.abs(R.deltaX)>Math.abs(R.deltaY)?-R.deltaX*P:-R.deltaY}}}}if(0!==N){if(aE.params.mousewheelInvert&&(N=-N),aE.params.freeMode){var M=aE.getWrapperTranslate()+N*aE.params.mousewheelSensitivity,O=aE.isBeginning,S=aE.isEnd;if(M>=aE.minTranslate()&&(M=aE.minTranslate()),M<=aE.maxTranslate()&&(M=aE.maxTranslate()),aE.setWrapperTransition(0),aE.setWrapperTranslate(M),aE.updateProgress(),aE.updateActiveIndex(),(!O&&aE.isBeginning||!S&&aE.isEnd)&&aE.updateClasses(),aE.params.freeModeSticky?(clearTimeout(aE.mousewheel.timeout),aE.mousewheel.timeout=setTimeout(function(){aE.slideReset()},300)):aE.params.lazyLoading&&aE.lazy&&aE.lazy.load(),0===M||M===aE.maxTranslate()){return}}else{if((new window.Date).getTime()-aE.mousewheel.lastScrollTime>60){if(0>N){if(aE.isEnd&&!aE.params.loop||aE.animating){if(aE.params.mousewheelReleaseOnEdges){return !0}}else{aE.slideNext()}}else{if(aE.isBeginning&&!aE.params.loop||aE.animating){if(aE.params.mousewheelReleaseOnEdges){return !0}}else{aE.slidePrev()}}}aE.mousewheel.lastScrollTime=(new window.Date).getTime()}return aE.params.autoplay&&aE.stopAutoplay(),R.preventDefault?R.preventDefault():R.returnValue=!1,!1}}function ao(P,M){P=j(P);var O,L,N,R=aE.rtl?-1:1;O=P.attr("data-swiper-parallax")||"0",L=P.attr("data-swiper-parallax-x"),N=P.attr("data-swiper-parallax-y"),L||N?(L=L||"0",N=N||"0"):aE.isHorizontal()?(L=O,N="0"):(N=O,L="0"),L=L.indexOf("%")>=0?parseInt(L,10)*M*R+"%":L*M*R+"px",N=N.indexOf("%")>=0?parseInt(N,10)*M+"%":N*M+"px",P.transform("translate3d("+L+", "+N+",0px)")}function aD(i){return 0!==i.indexOf("on")&&(i=i[0]!==i[0].toUpperCase()?"on"+i[0].toUpperCase()+i.substring(1):"on"+i),i}if(!(this instanceof E)){return new E(aB,ax)}var au={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:0.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:0.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:0.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:0.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},ay=ax&&ax.virtualTranslate;ax=ax||{};var aA={};for(var az in ax){if("object"!=typeof ax[az]||null===ax[az]||(ax[az].nodeType||ax[az]===window||ax[az]===document||"undefined"!=typeof G&&ax[az] instanceof G||"undefined"!=typeof jQuery&&ax[az] instanceof jQuery)){aA[az]=ax[az]}else{aA[az]={};for(var an in ax[az]){aA[az][an]=ax[az][an]}}}for(var am in au){if("undefined"==typeof ax[am]){ax[am]=au[am]}else{if("object"==typeof ax[am]){for(var ak in au[am]){"undefined"==typeof ax[am][ak]&&(ax[am][ak]=au[am][ak])}}}}var aE=this;if(aE.params=ax,aE.originalParams=aA,aE.classNames=[],"undefined"!=typeof j&&"undefined"!=typeof G&&(j=G),("undefined"!=typeof j||(j="undefined"==typeof G?window.Dom7||window.Zepto||window.jQuery:G))&&(aE.$=j,aE.currentBreakpoint=void 0,aE.getActiveBreakpoint=function(){if(!aE.params.breakpoints){return !1}var M,i=!1,s=[];for(M in aE.params.breakpoints){aE.params.breakpoints.hasOwnProperty(M)&&s.push(M)}s.sort(function(O,N){return parseInt(O,10)>parseInt(N,10)});for(var L=0;L<s.length;L++){M=s[L],M>=window.innerWidth&&!i&&(i=M)}return i||"max"},aE.setBreakpoint=function(){var M=aE.getActiveBreakpoint();if(M&&aE.currentBreakpoint!==M){var i=M in aE.params.breakpoints?aE.params.breakpoints[M]:aE.originalParams,s=aE.params.loop&&i.slidesPerView!==aE.params.slidesPerView;for(var L in i){aE.params[L]=i[L]}aE.currentBreakpoint=M,s&&aE.destroyLoop&&aE.reLoop(!0)}},aE.params.breakpoints&&aE.setBreakpoint(),aE.container=j(aB),0!==aE.container.length)){if(aE.container.length>1){var al=[];return aE.container.each(function(){al.push(new E(this,ax))}),al}aE.container[0].swiper=aE,aE.container.data("swiper",aE),aE.classNames.push("swiper-container-"+aE.params.direction),aE.params.freeMode&&aE.classNames.push("swiper-container-free-mode"),aE.support.flexbox||(aE.classNames.push("swiper-container-no-flexbox"),aE.params.slidesPerColumn=1),aE.params.autoHeight&&aE.classNames.push("swiper-container-autoheight"),(aE.params.parallax||aE.params.watchSlidesVisibility)&&(aE.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(aE.params.effect)>=0&&(aE.support.transforms3d?(aE.params.watchSlidesProgress=!0,aE.classNames.push("swiper-container-3d")):aE.params.effect="slide"),"slide"!==aE.params.effect&&aE.classNames.push("swiper-container-"+aE.params.effect),"cube"===aE.params.effect&&(aE.params.resistanceRatio=0,aE.params.slidesPerView=1,aE.params.slidesPerColumn=1,aE.params.slidesPerGroup=1,aE.params.centeredSlides=!1,aE.params.spaceBetween=0,aE.params.virtualTranslate=!0,aE.params.setWrapperSize=!1),("fade"===aE.params.effect||"flip"===aE.params.effect)&&(aE.params.slidesPerView=1,aE.params.slidesPerColumn=1,aE.params.slidesPerGroup=1,aE.params.watchSlidesProgress=!0,aE.params.spaceBetween=0,aE.params.setWrapperSize=!1,"undefined"==typeof ay&&(aE.params.virtualTranslate=!0)),aE.params.grabCursor&&aE.support.touch&&(aE.params.grabCursor=!1),aE.wrapper=aE.container.children("."+aE.params.wrapperClass),aE.params.pagination&&(aE.paginationContainer=j(aE.params.pagination),aE.params.uniqueNavElements&&"string"==typeof aE.params.pagination&&aE.paginationContainer.length>1&&1===aE.container.find(aE.params.pagination).length&&(aE.paginationContainer=aE.container.find(aE.params.pagination)),"bullets"===aE.params.paginationType&&aE.params.paginationClickable?aE.paginationContainer.addClass("swiper-pagination-clickable"):aE.params.paginationClickable=!1,aE.paginationContainer.addClass("swiper-pagination-"+aE.params.paginationType)),(aE.params.nextButton||aE.params.prevButton)&&(aE.params.nextButton&&(aE.nextButton=j(aE.params.nextButton),aE.params.uniqueNavElements&&"string"==typeof aE.params.nextButton&&aE.nextButton.length>1&&1===aE.container.find(aE.params.nextButton).length&&(aE.nextButton=aE.container.find(aE.params.nextButton))),aE.params.prevButton&&(aE.prevButton=j(aE.params.prevButton),aE.params.uniqueNavElements&&"string"==typeof aE.params.prevButton&&aE.prevButton.length>1&&1===aE.container.find(aE.params.prevButton).length&&(aE.prevButton=aE.container.find(aE.params.prevButton)))),aE.isHorizontal=function(){return"horizontal"===aE.params.direction},aE.rtl=aE.isHorizontal()&&("rtl"===aE.container[0].dir.toLowerCase()||"rtl"===aE.container.css("direction")),aE.rtl&&aE.classNames.push("swiper-container-rtl"),aE.rtl&&(aE.wrongRTL="-webkit-box"===aE.wrapper.css("display")),aE.params.slidesPerColumn>1&&aE.classNames.push("swiper-container-multirow"),aE.device.android&&aE.classNames.push("swiper-container-android"),aE.container.addClass(aE.classNames.join(" ")),aE.translate=0,aE.progress=0,aE.velocity=0,aE.lockSwipeToNext=function(){aE.params.allowSwipeToNext=!1},aE.lockSwipeToPrev=function(){aE.params.allowSwipeToPrev=!1},aE.lockSwipes=function(){aE.params.allowSwipeToNext=aE.params.allowSwipeToPrev=!1},aE.unlockSwipeToNext=function(){aE.params.allowSwipeToNext=!0},aE.unlockSwipeToPrev=function(){aE.params.allowSwipeToPrev=!0},aE.unlockSwipes=function(){aE.params.allowSwipeToNext=aE.params.allowSwipeToPrev=!0},aE.params.grabCursor&&(aE.container[0].style.cursor="move",aE.container[0].style.cursor="-webkit-grab",aE.container[0].style.cursor="-moz-grab",aE.container[0].style.cursor="grab"),aE.imagesToLoad=[],aE.imagesLoaded=0,aE.loadImage=function(R,L,N,P,M){function O(){M&&M()}var S;R.complete&&P?O():L?(S=new window.Image,S.onload=O,S.onerror=O,N&&(S.srcset=N),L&&(S.src=L)):O()},aE.preloadImages=function(){function s(){"undefined"!=typeof aE&&null!==aE&&(void 0!==aE.imagesLoaded&&aE.imagesLoaded++,aE.imagesLoaded===aE.imagesToLoad.length&&(aE.params.updateOnImagesReady&&aE.update(),aE.emit("onImagesReady",aE)))}aE.imagesToLoad=aE.container.find("img");for(var i=0;i<aE.imagesToLoad.length;i++){aE.loadImage(aE.imagesToLoad[i],aE.imagesToLoad[i].currentSrc||aE.imagesToLoad[i].getAttribute("src"),aE.imagesToLoad[i].srcset||aE.imagesToLoad[i].getAttribute("srcset"),!0,s)}},aE.autoplayTimeoutId=void 0,aE.autoplaying=!1,aE.autoplayPaused=!1,aE.startAutoplay=function(){return"undefined"!=typeof aE.autoplayTimeoutId?!1:aE.params.autoplay?aE.autoplaying?!1:(aE.autoplaying=!0,aE.emit("onAutoplayStart",aE),void at()):!1},aE.stopAutoplay=function(i){aE.autoplayTimeoutId&&(aE.autoplayTimeoutId&&clearTimeout(aE.autoplayTimeoutId),aE.autoplaying=!1,aE.autoplayTimeoutId=void 0,aE.emit("onAutoplayStop",aE))},aE.pauseAutoplay=function(i){aE.autoplayPaused||(aE.autoplayTimeoutId&&clearTimeout(aE.autoplayTimeoutId),aE.autoplayPaused=!0,0===i?(aE.autoplayPaused=!1,at()):aE.wrapper.transitionEnd(function(){aE&&(aE.autoplayPaused=!1,aE.autoplaying?at():aE.stopAutoplay())}))},aE.minTranslate=function(){return -aE.snapGrid[0]},aE.maxTranslate=function(){return -aE.snapGrid[aE.snapGrid.length-1]},aE.updateAutoHeight=function(){var s=aE.slides.eq(aE.activeIndex)[0];if("undefined"!=typeof s){var i=s.offsetHeight;i&&aE.wrapper.css("height",i+"px")}},aE.updateContainerSize=function(){var s,i;s="undefined"!=typeof aE.params.width?aE.params.width:aE.container[0].clientWidth,i="undefined"!=typeof aE.params.height?aE.params.height:aE.container[0].clientHeight,0===s&&aE.isHorizontal()||0===i&&!aE.isHorizontal()||(s=s-parseInt(aE.container.css("padding-left"),10)-parseInt(aE.container.css("padding-right"),10),i=i-parseInt(aE.container.css("padding-top"),10)-parseInt(aE.container.css("padding-bottom"),10),aE.width=s,aE.height=i,aE.size=aE.isHorizontal()?aE.width:aE.height)},aE.updateSlidesSize=function(){aE.slides=aE.wrapper.children("."+aE.params.slideClass),aE.snapGrid=[],aE.slidesGrid=[],aE.slidesSizesGrid=[];var W,aH=aE.params.spaceBetween,aJ=-aE.params.slidesOffsetBefore,s=0,R=0;if("undefined"!=typeof aE.size){"string"==typeof aH&&aH.indexOf("%")>=0&&(aH=parseFloat(aH.replace("%",""))/100*aE.size),aE.virtualSize=-aH,aE.rtl?aE.slides.css({marginLeft:"",marginTop:""}):aE.slides.css({marginRight:"",marginBottom:""});var N;aE.params.slidesPerColumn>1&&(N=Math.floor(aE.slides.length/aE.params.slidesPerColumn)===aE.slides.length/aE.params.slidesPerColumn?aE.slides.length:Math.ceil(aE.slides.length/aE.params.slidesPerColumn)*aE.params.slidesPerColumn,"auto"!==aE.params.slidesPerView&&"row"===aE.params.slidesPerColumnFill&&(N=Math.max(N,aE.params.slidesPerView*aE.params.slidesPerColumn)));var M,P=aE.params.slidesPerColumn,L=N/P,aF=L-(aE.params.slidesPerColumn*L-aE.slides.length);for(W=0;W<aE.slides.length;W++){M=0;var aI=aE.slides.eq(W);if(aE.params.slidesPerColumn>1){var aG,O,S;"column"===aE.params.slidesPerColumnFill?(O=Math.floor(W/P),S=W-O*P,(O>aF||O===aF&&S===P-1)&&++S>=P&&(S=0,O++),aG=O+S*N/P,aI.css({"-webkit-box-ordinal-group":aG,"-moz-box-ordinal-group":aG,"-ms-flex-order":aG,"-webkit-order":aG,order:aG})):(S=Math.floor(W/L),O=W-S*L),aI.css({"margin-top":0!==S&&aE.params.spaceBetween&&aE.params.spaceBetween+"px"}).attr("data-swiper-column",O).attr("data-swiper-row",S)}"none"!==aI.css("display")&&("auto"===aE.params.slidesPerView?(M=aE.isHorizontal()?aI.outerWidth(!0):aI.outerHeight(!0),aE.params.roundLengths&&(M=ap(M))):(M=(aE.size-(aE.params.slidesPerView-1)*aH)/aE.params.slidesPerView,aE.params.roundLengths&&(M=ap(M)),aE.isHorizontal()?aE.slides[W].style.width=M+"px":aE.slides[W].style.height=M+"px"),aE.slides[W].swiperSlideSize=M,aE.slidesSizesGrid.push(M),aE.params.centeredSlides?(aJ=aJ+M/2+s/2+aH,0===W&&(aJ=aJ-aE.size/2-aH),Math.abs(aJ)<0.001&&(aJ=0),R%aE.params.slidesPerGroup===0&&aE.snapGrid.push(aJ),aE.slidesGrid.push(aJ)):(R%aE.params.slidesPerGroup===0&&aE.snapGrid.push(aJ),aE.slidesGrid.push(aJ),aJ=aJ+M+aH),aE.virtualSize+=M+aH,s=M,R++)}aE.virtualSize=Math.max(aE.virtualSize,aE.size)+aE.params.slidesOffsetAfter;var T;if(aE.rtl&&aE.wrongRTL&&("slide"===aE.params.effect||"coverflow"===aE.params.effect)&&aE.wrapper.css({width:aE.virtualSize+aE.params.spaceBetween+"px"}),(!aE.support.flexbox||aE.params.setWrapperSize)&&(aE.isHorizontal()?aE.wrapper.css({width:aE.virtualSize+aE.params.spaceBetween+"px"}):aE.wrapper.css({height:aE.virtualSize+aE.params.spaceBetween+"px"})),aE.params.slidesPerColumn>1&&(aE.virtualSize=(M+aE.params.spaceBetween)*N,aE.virtualSize=Math.ceil(aE.virtualSize/aE.params.slidesPerColumn)-aE.params.spaceBetween,aE.wrapper.css({width:aE.virtualSize+aE.params.spaceBetween+"px"}),aE.params.centeredSlides)){for(T=[],W=0;W<aE.snapGrid.length;W++){aE.snapGrid[W]<aE.virtualSize+aE.snapGrid[0]&&T.push(aE.snapGrid[W])}aE.snapGrid=T}if(!aE.params.centeredSlides){for(T=[],W=0;W<aE.snapGrid.length;W++){aE.snapGrid[W]<=aE.virtualSize-aE.size&&T.push(aE.snapGrid[W])}aE.snapGrid=T,Math.floor(aE.virtualSize-aE.size)-Math.floor(aE.snapGrid[aE.snapGrid.length-1])>1&&aE.snapGrid.push(aE.virtualSize-aE.size)}0===aE.snapGrid.length&&(aE.snapGrid=[0]),0!==aE.params.spaceBetween&&(aE.isHorizontal()?aE.rtl?aE.slides.css({marginLeft:aH+"px"}):aE.slides.css({marginRight:aH+"px"}):aE.slides.css({marginBottom:aH+"px"})),aE.params.watchSlidesProgress&&aE.updateSlidesOffset()}},aE.updateSlidesOffset=function(){for(var i=0;i<aE.slides.length;i++){aE.slides[i].swiperSlideOffset=aE.isHorizontal()?aE.slides[i].offsetLeft:aE.slides[i].offsetTop}},aE.updateSlidesProgress=function(R){if("undefined"==typeof R&&(R=aE.translate||0),0!==aE.slides.length){"undefined"==typeof aE.slides[0].swiperSlideOffset&&aE.updateSlidesOffset();var L=-R;aE.rtl&&(L=R),aE.slides.removeClass(aE.params.slideVisibleClass);for(var N=0;N<aE.slides.length;N++){var P=aE.slides[N],M=(L-P.swiperSlideOffset)/(P.swiperSlideSize+aE.params.spaceBetween);if(aE.params.watchSlidesVisibility){var O=-(L-P.swiperSlideOffset),T=O+aE.slidesSizesGrid[N],S=O>=0&&O<aE.size||T>0&&T<=aE.size||0>=O&&T>=aE.size;S&&aE.slides.eq(N).addClass(aE.params.slideVisibleClass)}P.progress=aE.rtl?-M:M}}},aE.updateProgress=function(M){"undefined"==typeof M&&(M=aE.translate||0);var i=aE.maxTranslate()-aE.minTranslate(),s=aE.isBeginning,L=aE.isEnd;0===i?(aE.progress=0,aE.isBeginning=aE.isEnd=!0):(aE.progress=(M-aE.minTranslate())/i,aE.isBeginning=aE.progress<=0,aE.isEnd=aE.progress>=1),aE.isBeginning&&!s&&aE.emit("onReachBeginning",aE),aE.isEnd&&!L&&aE.emit("onReachEnd",aE),aE.params.watchSlidesProgress&&aE.updateSlidesProgress(M),aE.emit("onProgress",aE,aE.progress)},aE.updateActiveIndex=function(){var M,i,s,L=aE.rtl?aE.translate:-aE.translate;for(i=0;i<aE.slidesGrid.length;i++){"undefined"!=typeof aE.slidesGrid[i+1]?L>=aE.slidesGrid[i]&&L<aE.slidesGrid[i+1]-(aE.slidesGrid[i+1]-aE.slidesGrid[i])/2?M=i:L>=aE.slidesGrid[i]&&L<aE.slidesGrid[i+1]&&(M=i+1):L>=aE.slidesGrid[i]&&(M=i)}(0>M||"undefined"==typeof M)&&(M=0),s=Math.floor(M/aE.params.slidesPerGroup),s>=aE.snapGrid.length&&(s=aE.snapGrid.length-1),M!==aE.activeIndex&&(aE.snapIndex=s,aE.previousIndex=aE.activeIndex,aE.activeIndex=M,aE.updateClasses())},aE.updateClasses=function(){aE.slides.removeClass(aE.params.slideActiveClass+" "+aE.params.slideNextClass+" "+aE.params.slidePrevClass);var R=aE.slides.eq(aE.activeIndex);R.addClass(aE.params.slideActiveClass);var N=R.next("."+aE.params.slideClass).addClass(aE.params.slideNextClass);aE.params.loop&&0===N.length&&aE.slides.eq(0).addClass(aE.params.slideNextClass);var P=R.prev("."+aE.params.slideClass).addClass(aE.params.slidePrevClass);if(aE.params.loop&&0===P.length&&aE.slides.eq(-1).addClass(aE.params.slidePrevClass),aE.paginationContainer&&aE.paginationContainer.length>0){var M,O=aE.params.loop?Math.ceil((aE.slides.length-2*aE.loopedSlides)/aE.params.slidesPerGroup):aE.snapGrid.length;if(aE.params.loop?(M=Math.ceil((aE.activeIndex-aE.loopedSlides)/aE.params.slidesPerGroup),M>aE.slides.length-1-2*aE.loopedSlides&&(M-=aE.slides.length-2*aE.loopedSlides),M>O-1&&(M-=O),0>M&&"bullets"!==aE.params.paginationType&&(M=O+M)):M="undefined"!=typeof aE.snapIndex?aE.snapIndex:aE.activeIndex||0,"bullets"===aE.params.paginationType&&aE.bullets&&aE.bullets.length>0&&(aE.bullets.removeClass(aE.params.bulletActiveClass),aE.paginationContainer.length>1?aE.bullets.each(function(){j(this).index()===M&&j(this).addClass(aE.params.bulletActiveClass)}):aE.bullets.eq(M).addClass(aE.params.bulletActiveClass)),"fraction"===aE.params.paginationType&&(aE.paginationContainer.find("."+aE.params.paginationCurrentClass).text(M+1),aE.paginationContainer.find("."+aE.params.paginationTotalClass).text(O)),"progress"===aE.params.paginationType){var T=(M+1)/O,S=T,L=1;aE.isHorizontal()||(L=T,S=1),aE.paginationContainer.find("."+aE.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+S+") scaleY("+L+")").transition(aE.params.speed)}"custom"===aE.params.paginationType&&aE.params.paginationCustomRender&&(aE.paginationContainer.html(aE.params.paginationCustomRender(aE,M+1,O)),aE.emit("onPaginationRendered",aE,aE.paginationContainer[0]))}aE.params.loop||(aE.params.prevButton&&aE.prevButton&&aE.prevButton.length>0&&(aE.isBeginning?(aE.prevButton.addClass(aE.params.buttonDisabledClass),aE.params.a11y&&aE.a11y&&aE.a11y.disable(aE.prevButton)):(aE.prevButton.removeClass(aE.params.buttonDisabledClass),aE.params.a11y&&aE.a11y&&aE.a11y.enable(aE.prevButton))),aE.params.nextButton&&aE.nextButton&&aE.nextButton.length>0&&(aE.isEnd?(aE.nextButton.addClass(aE.params.buttonDisabledClass),aE.params.a11y&&aE.a11y&&aE.a11y.disable(aE.nextButton)):(aE.nextButton.removeClass(aE.params.buttonDisabledClass),aE.params.a11y&&aE.a11y&&aE.a11y.enable(aE.nextButton))))},aE.updatePagination=function(){if(aE.params.pagination&&aE.paginationContainer&&aE.paginationContainer.length>0){var L="";if("bullets"===aE.params.paginationType){for(var i=aE.params.loop?Math.ceil((aE.slides.length-2*aE.loopedSlides)/aE.params.slidesPerGroup):aE.snapGrid.length,s=0;i>s;s++){L+=aE.params.paginationBulletRender?aE.params.paginationBulletRender(s,aE.params.bulletClass):"<"+aE.params.paginationElement+' class="'+aE.params.bulletClass+'"></'+aE.params.paginationElement+">"}aE.paginationContainer.html(L),aE.bullets=aE.paginationContainer.find("."+aE.params.bulletClass),aE.params.paginationClickable&&aE.params.a11y&&aE.a11y&&aE.a11y.initPagination()}"fraction"===aE.params.paginationType&&(L=aE.params.paginationFractionRender?aE.params.paginationFractionRender(aE,aE.params.paginationCurrentClass,aE.params.paginationTotalClass):'<span class="'+aE.params.paginationCurrentClass+'"></span> / <span class="'+aE.params.paginationTotalClass+'"></span>',aE.paginationContainer.html(L)),"progress"===aE.params.paginationType&&(L=aE.params.paginationProgressRender?aE.params.paginationProgressRender(aE,aE.params.paginationProgressbarClass):'<span class="'+aE.params.paginationProgressbarClass+'"></span>',aE.paginationContainer.html(L)),"custom"!==aE.params.paginationType&&aE.emit("onPaginationRendered",aE,aE.paginationContainer[0])}},aE.update=function(M){function i(){L=Math.min(Math.max(aE.translate,aE.maxTranslate()),aE.minTranslate()),aE.setWrapperTranslate(L),aE.updateActiveIndex(),aE.updateClasses()}if(aE.updateContainerSize(),aE.updateSlidesSize(),aE.updateProgress(),aE.updatePagination(),aE.updateClasses(),aE.params.scrollbar&&aE.scrollbar&&aE.scrollbar.set(),M){var s,L;aE.controller&&aE.controller.spline&&(aE.controller.spline=void 0),aE.params.freeMode?(i(),aE.params.autoHeight&&aE.updateAutoHeight()):(s=("auto"===aE.params.slidesPerView||aE.params.slidesPerView>1)&&aE.isEnd&&!aE.params.centeredSlides?aE.slideTo(aE.slides.length-1,0,!1,!0):aE.slideTo(aE.activeIndex,0,!1,!0),s||i())}else{aE.params.autoHeight&&aE.updateAutoHeight()}},aE.onResize=function(O){aE.params.breakpoints&&aE.setBreakpoint();var s=aE.params.allowSwipeToPrev,M=aE.params.allowSwipeToNext;aE.params.allowSwipeToPrev=aE.params.allowSwipeToNext=!0,aE.updateContainerSize(),aE.updateSlidesSize(),("auto"===aE.params.slidesPerView||aE.params.freeMode||O)&&aE.updatePagination(),aE.params.scrollbar&&aE.scrollbar&&aE.scrollbar.set(),aE.controller&&aE.controller.spline&&(aE.controller.spline=void 0);var N=!1;if(aE.params.freeMode){var L=Math.min(Math.max(aE.translate,aE.maxTranslate()),aE.minTranslate());aE.setWrapperTranslate(L),aE.updateActiveIndex(),aE.updateClasses(),aE.params.autoHeight&&aE.updateAutoHeight()}else{aE.updateClasses(),N=("auto"===aE.params.slidesPerView||aE.params.slidesPerView>1)&&aE.isEnd&&!aE.params.centeredSlides?aE.slideTo(aE.slides.length-1,0,!1,!0):aE.slideTo(aE.activeIndex,0,!1,!0)}aE.params.lazyLoading&&!N&&aE.lazy&&aE.lazy.load(),aE.params.allowSwipeToPrev=s,aE.params.allowSwipeToNext=M};var K=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?K=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(K=["MSPointerDown","MSPointerMove","MSPointerUp"]),aE.touchEvents={start:aE.support.touch||!aE.params.simulateTouch?"touchstart":K[0],move:aE.support.touch||!aE.params.simulateTouch?"touchmove":K[1],end:aE.support.touch||!aE.params.simulateTouch?"touchend":K[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===aE.params.touchEventsTarget?aE.container:aE.wrapper).addClass("swiper-wp8-"+aE.params.direction),aE.initEvents=function(O){var i=O?"off":"on",L=O?"removeEventListener":"addEventListener",N="container"===aE.params.touchEventsTarget?aE.container[0]:aE.wrapper[0],M=aE.support.touch?N:document,P=aE.params.nested?!0:!1;aE.browser.ie?(N[L](aE.touchEvents.start,aE.onTouchStart,!1),M[L](aE.touchEvents.move,aE.onTouchMove,P),M[L](aE.touchEvents.end,aE.onTouchEnd,!1)):(aE.support.touch&&(N[L](aE.touchEvents.start,aE.onTouchStart,!1),N[L](aE.touchEvents.move,aE.onTouchMove,P),N[L](aE.touchEvents.end,aE.onTouchEnd,!1)),!ax.simulateTouch||aE.device.ios||aE.device.android||(N[L]("mousedown",aE.onTouchStart,!1),document[L]("mousemove",aE.onTouchMove,P),document[L]("mouseup",aE.onTouchEnd,!1))),window[L]("resize",aE.onResize),aE.params.nextButton&&aE.nextButton&&aE.nextButton.length>0&&(aE.nextButton[i]("click",aE.onClickNext),aE.params.a11y&&aE.a11y&&aE.nextButton[i]("keydown",aE.a11y.onEnterKey)),aE.params.prevButton&&aE.prevButton&&aE.prevButton.length>0&&(aE.prevButton[i]("click",aE.onClickPrev),aE.params.a11y&&aE.a11y&&aE.prevButton[i]("keydown",aE.a11y.onEnterKey)),aE.params.pagination&&aE.params.paginationClickable&&(aE.paginationContainer[i]("click","."+aE.params.bulletClass,aE.onClickIndex),aE.params.a11y&&aE.a11y&&aE.paginationContainer[i]("keydown","."+aE.params.bulletClass,aE.a11y.onEnterKey)),(aE.params.preventClicks||aE.params.preventClicksPropagation)&&N[L]("click",aE.preventClicks,!0)},aE.attachEvents=function(){aE.initEvents()},aE.detachEvents=function(){aE.initEvents(!0)},aE.allowClick=!0,aE.preventClicks=function(i){aE.allowClick||(aE.params.preventClicks&&i.preventDefault(),aE.params.preventClicksPropagation&&aE.animating&&(i.stopPropagation(),i.stopImmediatePropagation()))},aE.onClickNext=function(i){i.preventDefault(),(!aE.isEnd||aE.params.loop)&&aE.slideNext()},aE.onClickPrev=function(i){i.preventDefault(),(!aE.isBeginning||aE.params.loop)&&aE.slidePrev()},aE.onClickIndex=function(s){s.preventDefault();var i=j(this).index()*aE.params.slidesPerGroup;aE.params.loop&&(i+=aE.loopedSlides),aE.slideTo(i)},aE.updateClickedSlide=function(P){var M=ar(P,"."+aE.params.slideClass),O=!1;if(M){for(var L=0;L<aE.slides.length;L++){aE.slides[L]===M&&(O=!0)}}if(!M||!O){return aE.clickedSlide=void 0,void (aE.clickedIndex=void 0)}if(aE.clickedSlide=M,aE.clickedIndex=j(M).index(),aE.params.slideToClickedSlide&&void 0!==aE.clickedIndex&&aE.clickedIndex!==aE.activeIndex){var N,R=aE.clickedIndex;if(aE.params.loop){if(aE.animating){return}N=j(aE.clickedSlide).attr("data-swiper-slide-index"),aE.params.centeredSlides?R<aE.loopedSlides-aE.params.slidesPerView/2||R>aE.slides.length-aE.loopedSlides+aE.params.slidesPerView/2?(aE.fixLoop(),R=aE.wrapper.children("."+aE.params.slideClass+'[data-swiper-slide-index="'+N+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){aE.slideTo(R)},0)):aE.slideTo(R):R>aE.slides.length-aE.params.slidesPerView?(aE.fixLoop(),R=aE.wrapper.children("."+aE.params.slideClass+'[data-swiper-slide-index="'+N+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){aE.slideTo(R)},0)):aE.slideTo(R)}else{aE.slideTo(R)}}};var Q,ag,aj,Z,ae,V,aw,ab,aa,ah,af="input, select, textarea, button",ac=Date.now(),ai=[];aE.animating=!1,aE.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var ad,X;if(aE.onTouchStart=function(N){if(N.originalEvent&&(N=N.originalEvent),ad="touchstart"===N.type,ad||!("which" in N)||3!==N.which){if(aE.params.noSwiping&&ar(N,"."+aE.params.noSwipingClass)){return void (aE.allowClick=!0)}if(!aE.params.swipeHandler||ar(N,aE.params.swipeHandler)){var L=aE.touches.currentX="touchstart"===N.type?N.targetTouches[0].pageX:N.pageX,M=aE.touches.currentY="touchstart"===N.type?N.targetTouches[0].pageY:N.pageY;if(!(aE.device.ios&&aE.params.iOSEdgeSwipeDetection&&L<=aE.params.iOSEdgeSwipeThreshold)){if(Q=!0,ag=!1,aj=!0,ae=void 0,X=void 0,aE.touches.startX=L,aE.touches.startY=M,Z=Date.now(),aE.allowClick=!0,aE.updateContainerSize(),aE.swipeDirection=void 0,aE.params.threshold>0&&(ab=!1),"touchstart"!==N.type){var s=!0;j(N.target).is(af)&&(s=!1),document.activeElement&&j(document.activeElement).is(af)&&document.activeElement.blur(),s&&N.preventDefault()}aE.emit("onTouchStart",aE,N)}}}},aE.onTouchMove=function(N){if(N.originalEvent&&(N=N.originalEvent),!ad||"mousemove"!==N.type){if(N.preventedByNestedSwiper){return aE.touches.startX="touchmove"===N.type?N.targetTouches[0].pageX:N.pageX,void (aE.touches.startY="touchmove"===N.type?N.targetTouches[0].pageY:N.pageY)}if(aE.params.onlyExternal){return aE.allowClick=!1,void (Q&&(aE.touches.startX=aE.touches.currentX="touchmove"===N.type?N.targetTouches[0].pageX:N.pageX,aE.touches.startY=aE.touches.currentY="touchmove"===N.type?N.targetTouches[0].pageY:N.pageY,Z=Date.now()))}if(ad&&document.activeElement&&N.target===document.activeElement&&j(N.target).is(af)){return ag=!0,void (aE.allowClick=!1)}if(aj&&aE.emit("onTouchMove",aE,N),!(N.targetTouches&&N.targetTouches.length>1)){if(aE.touches.currentX="touchmove"===N.type?N.targetTouches[0].pageX:N.pageX,aE.touches.currentY="touchmove"===N.type?N.targetTouches[0].pageY:N.pageY,"undefined"==typeof ae){var i=180*Math.atan2(Math.abs(aE.touches.currentY-aE.touches.startY),Math.abs(aE.touches.currentX-aE.touches.startX))/Math.PI;ae=aE.isHorizontal()?i>aE.params.touchAngle:90-i>aE.params.touchAngle}if(ae&&aE.emit("onTouchMoveOpposite",aE,N),"undefined"==typeof X&&aE.browser.ieTouch&&(aE.touches.currentX!==aE.touches.startX||aE.touches.currentY!==aE.touches.startY)&&(X=!0),Q){if(ae){return void (Q=!1)}if(X||!aE.browser.ieTouch){aE.allowClick=!1,aE.emit("onSliderMove",aE,N),N.preventDefault(),aE.params.touchMoveStopPropagation&&!aE.params.nested&&N.stopPropagation(),ag||(ax.loop&&aE.fixLoop(),aw=aE.getWrapperTranslate(),aE.setWrapperTransition(0),aE.animating&&aE.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),aE.params.autoplay&&aE.autoplaying&&(aE.params.autoplayDisableOnInteraction?aE.stopAutoplay():aE.pauseAutoplay()),ah=!1,aE.params.grabCursor&&(aE.container[0].style.cursor="move",aE.container[0].style.cursor="-webkit-grabbing",aE.container[0].style.cursor="-moz-grabbin",aE.container[0].style.cursor="grabbing")),ag=!0;var M=aE.touches.diff=aE.isHorizontal()?aE.touches.currentX-aE.touches.startX:aE.touches.currentY-aE.touches.startY;M*=aE.params.touchRatio,aE.rtl&&(M=-M),aE.swipeDirection=M>0?"prev":"next",V=M+aw;var L=!0;if(M>0&&V>aE.minTranslate()?(L=!1,aE.params.resistance&&(V=aE.minTranslate()-1+Math.pow(-aE.minTranslate()+aw+M,aE.params.resistanceRatio))):0>M&&V<aE.maxTranslate()&&(L=!1,aE.params.resistance&&(V=aE.maxTranslate()+1-Math.pow(aE.maxTranslate()-aw-M,aE.params.resistanceRatio))),L&&(N.preventedByNestedSwiper=!0),!aE.params.allowSwipeToNext&&"next"===aE.swipeDirection&&aw>V&&(V=aw),!aE.params.allowSwipeToPrev&&"prev"===aE.swipeDirection&&V>aw&&(V=aw),aE.params.followFinger){if(aE.params.threshold>0){if(!(Math.abs(M)>aE.params.threshold||ab)){return void (V=aw)}if(!ab){return ab=!0,aE.touches.startX=aE.touches.currentX,aE.touches.startY=aE.touches.currentY,V=aw,void (aE.touches.diff=aE.isHorizontal()?aE.touches.currentX-aE.touches.startX:aE.touches.currentY-aE.touches.startY)}}(aE.params.freeMode||aE.params.watchSlidesProgress)&&aE.updateActiveIndex(),aE.params.freeMode&&(0===ai.length&&ai.push({position:aE.touches[aE.isHorizontal()?"startX":"startY"],time:Z}),ai.push({position:aE.touches[aE.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),aE.updateProgress(V),aE.setWrapperTranslate(V)}}}}}},aE.onTouchEnd=function(aN){if(aN.originalEvent&&(aN=aN.originalEvent),aj&&aE.emit("onTouchEnd",aE,aN),aj=!1,Q){aE.params.grabCursor&&ag&&Q&&(aE.container[0].style.cursor="move",aE.container[0].style.cursor="-webkit-grab",aE.container[0].style.cursor="-moz-grab",aE.container[0].style.cursor="grab");var R=Date.now(),T=R-Z;if(aE.allowClick&&(aE.updateClickedSlide(aN),aE.emit("onTap",aE,aN),300>T&&R-ac>300&&(aa&&clearTimeout(aa),aa=setTimeout(function(){aE&&(aE.params.paginationHide&&aE.paginationContainer.length>0&&!j(aN.target).hasClass(aE.params.bulletClass)&&aE.paginationContainer.toggleClass(aE.params.paginationHiddenClass),aE.emit("onClick",aE,aN))},300)),300>T&&300>R-ac&&(aa&&clearTimeout(aa),aE.emit("onDoubleTap",aE,aN))),ac=Date.now(),setTimeout(function(){aE&&(aE.allowClick=!0)},0),!Q||!ag||!aE.swipeDirection||0===aE.touches.diff||V===aw){return void (Q=ag=!1)}Q=ag=!1;var aJ;if(aJ=aE.params.followFinger?aE.rtl?aE.translate:-aE.translate:-V,aE.params.freeMode){if(aJ<-aE.minTranslate()){return void aE.slideTo(aE.activeIndex)}if(aJ>-aE.maxTranslate()){return void (aE.slides.length<aE.snapGrid.length?aE.slideTo(aE.snapGrid.length-1):aE.slideTo(aE.slides.length-1))}if(aE.params.freeModeMomentum){if(ai.length>1){var S=ai.pop(),aG=ai.pop(),aF=S.position-aG.position,aI=S.time-aG.time;aE.velocity=aF/aI,aE.velocity=aE.velocity/2,Math.abs(aE.velocity)<aE.params.freeModeMinimumVelocity&&(aE.velocity=0),(aI>150||(new window.Date).getTime()-S.time>300)&&(aE.velocity=0)}else{aE.velocity=0}ai.length=0;var W=1000*aE.params.freeModeMomentumRatio,aO=aE.velocity*W,P=aE.translate+aO;aE.rtl&&(P=-P);var aP,aH=!1,aK=20*Math.abs(aE.velocity)*aE.params.freeModeMomentumBounceRatio;if(P<aE.maxTranslate()){aE.params.freeModeMomentumBounce?(P+aE.maxTranslate()<-aK&&(P=aE.maxTranslate()-aK),aP=aE.maxTranslate(),aH=!0,ah=!0):P=aE.maxTranslate()}else{if(P>aE.minTranslate()){aE.params.freeModeMomentumBounce?(P-aE.minTranslate()>aK&&(P=aE.minTranslate()+aK),aP=aE.minTranslate(),aH=!0,ah=!0):P=aE.minTranslate()}else{if(aE.params.freeModeSticky){var aM,aL=0;for(aL=0;aL<aE.snapGrid.length;aL+=1){if(aE.snapGrid[aL]>-P){aM=aL;break}}P=Math.abs(aE.snapGrid[aM]-P)<Math.abs(aE.snapGrid[aM-1]-P)||"next"===aE.swipeDirection?aE.snapGrid[aM]:aE.snapGrid[aM-1],aE.rtl||(P=-P)}}}if(0!==aE.velocity){W=aE.rtl?Math.abs((-P-aE.translate)/aE.velocity):Math.abs((P-aE.translate)/aE.velocity)}else{if(aE.params.freeModeSticky){return void aE.slideReset()}}aE.params.freeModeMomentumBounce&&aH?(aE.updateProgress(aP),aE.setWrapperTransition(W),aE.setWrapperTranslate(P),aE.onTransitionStart(),aE.animating=!0,aE.wrapper.transitionEnd(function(){aE&&ah&&(aE.emit("onMomentumBounce",aE),aE.setWrapperTransition(aE.params.speed),aE.setWrapperTranslate(aP),aE.wrapper.transitionEnd(function(){aE&&aE.onTransitionEnd()}))})):aE.velocity?(aE.updateProgress(P),aE.setWrapperTransition(W),aE.setWrapperTranslate(P),aE.onTransitionStart(),aE.animating||(aE.animating=!0,aE.wrapper.transitionEnd(function(){aE&&aE.onTransitionEnd()}))):aE.updateProgress(P),aE.updateActiveIndex()}return void ((!aE.params.freeModeMomentum||T>=aE.params.longSwipesMs)&&(aE.updateProgress(),aE.updateActiveIndex()))}var O,N=0,L=aE.slidesSizesGrid[0];for(O=0;O<aE.slidesGrid.length;O+=aE.params.slidesPerGroup){"undefined"!=typeof aE.slidesGrid[O+aE.params.slidesPerGroup]?aJ>=aE.slidesGrid[O]&&aJ<aE.slidesGrid[O+aE.params.slidesPerGroup]&&(N=O,L=aE.slidesGrid[O+aE.params.slidesPerGroup]-aE.slidesGrid[O]):aJ>=aE.slidesGrid[O]&&(N=O,L=aE.slidesGrid[aE.slidesGrid.length-1]-aE.slidesGrid[aE.slidesGrid.length-2])}var M=(aJ-aE.slidesGrid[N])/L;if(T>aE.params.longSwipesMs){if(!aE.params.longSwipes){return void aE.slideTo(aE.activeIndex)}"next"===aE.swipeDirection&&(M>=aE.params.longSwipesRatio?aE.slideTo(N+aE.params.slidesPerGroup):aE.slideTo(N)),"prev"===aE.swipeDirection&&(M>1-aE.params.longSwipesRatio?aE.slideTo(N+aE.params.slidesPerGroup):aE.slideTo(N))}else{if(!aE.params.shortSwipes){return void aE.slideTo(aE.activeIndex)}"next"===aE.swipeDirection&&aE.slideTo(N+aE.params.slidesPerGroup),"prev"===aE.swipeDirection&&aE.slideTo(N)}}},aE._slideTo=function(s,i){return aE.slideTo(s,i,!0,!0)},aE.slideTo=function(R,L,N,P){"undefined"==typeof N&&(N=!0),"undefined"==typeof R&&(R=0),0>R&&(R=0),aE.snapIndex=Math.floor(R/aE.params.slidesPerGroup),aE.snapIndex>=aE.snapGrid.length&&(aE.snapIndex=aE.snapGrid.length-1);var M=-aE.snapGrid[aE.snapIndex];aE.params.autoplay&&aE.autoplaying&&(P||!aE.params.autoplayDisableOnInteraction?aE.pauseAutoplay(L):aE.stopAutoplay()),aE.updateProgress(M);for(var O=0;O<aE.slidesGrid.length;O++){-Math.floor(100*M)>=Math.floor(100*aE.slidesGrid[O])&&(R=O)}return !aE.params.allowSwipeToNext&&M<aE.translate&&M<aE.minTranslate()?!1:!aE.params.allowSwipeToPrev&&M>aE.translate&&M>aE.maxTranslate()&&(aE.activeIndex||0)!==R?!1:("undefined"==typeof L&&(L=aE.params.speed),aE.previousIndex=aE.activeIndex||0,aE.activeIndex=R,aE.rtl&&-M===aE.translate||!aE.rtl&&M===aE.translate?(aE.params.autoHeight&&aE.updateAutoHeight(),aE.updateClasses(),"slide"!==aE.params.effect&&aE.setWrapperTranslate(M),!1):(aE.updateClasses(),aE.onTransitionStart(N),0===L?(aE.setWrapperTranslate(M),aE.setWrapperTransition(0),aE.onTransitionEnd(N)):(aE.setWrapperTranslate(M),aE.setWrapperTransition(L),aE.animating||(aE.animating=!0,aE.wrapper.transitionEnd(function(){aE&&aE.onTransitionEnd(N)}))),!0))},aE.onTransitionStart=function(i){"undefined"==typeof i&&(i=!0),aE.params.autoHeight&&aE.updateAutoHeight(),aE.lazy&&aE.lazy.onTransitionStart(),i&&(aE.emit("onTransitionStart",aE),aE.activeIndex!==aE.previousIndex&&(aE.emit("onSlideChangeStart",aE),aE.activeIndex>aE.previousIndex?aE.emit("onSlideNextStart",aE):aE.emit("onSlidePrevStart",aE)))},aE.onTransitionEnd=function(i){aE.animating=!1,aE.setWrapperTransition(0),"undefined"==typeof i&&(i=!0),aE.lazy&&aE.lazy.onTransitionEnd(),i&&(aE.emit("onTransitionEnd",aE),aE.activeIndex!==aE.previousIndex&&(aE.emit("onSlideChangeEnd",aE),aE.activeIndex>aE.previousIndex?aE.emit("onSlideNextEnd",aE):aE.emit("onSlidePrevEnd",aE))),aE.params.hashnav&&aE.hashnav&&aE.hashnav.setHash()},aE.slideNext=function(L,i,s){if(aE.params.loop){if(aE.animating){return !1}aE.fixLoop();aE.container[0].clientLeft;return aE.slideTo(aE.activeIndex+aE.params.slidesPerGroup,i,L,s)}return aE.slideTo(aE.activeIndex+aE.params.slidesPerGroup,i,L,s)},aE._slideNext=function(i){return aE.slideNext(!0,i,!0)},aE.slidePrev=function(L,i,s){if(aE.params.loop){if(aE.animating){return !1}aE.fixLoop();aE.container[0].clientLeft;return aE.slideTo(aE.activeIndex-1,i,L,s)}return aE.slideTo(aE.activeIndex-1,i,L,s)},aE._slidePrev=function(i){return aE.slidePrev(!0,i,!0)},aE.slideReset=function(L,i,s){return aE.slideTo(aE.activeIndex,i,L)},aE.setWrapperTransition=function(s,i){aE.wrapper.transition(s),"slide"!==aE.params.effect&&aE.effects[aE.params.effect]&&aE.effects[aE.params.effect].setTransition(s),aE.params.parallax&&aE.parallax&&aE.parallax.setTransition(s),aE.params.scrollbar&&aE.scrollbar&&aE.scrollbar.setTransition(s),aE.params.control&&aE.controller&&aE.controller.setTransition(s,i),aE.emit("onSetTransition",aE,s)},aE.setWrapperTranslate=function(P,L,N){var O=0,M=0,S=0;aE.isHorizontal()?O=aE.rtl?-P:P:M=P,aE.params.roundLengths&&(O=ap(O),M=ap(M)),aE.params.virtualTranslate||(aE.support.transforms3d?aE.wrapper.transform("translate3d("+O+"px, "+M+"px, "+S+"px)"):aE.wrapper.transform("translate("+O+"px, "+M+"px)")),aE.translate=aE.isHorizontal()?O:M;var R,s=aE.maxTranslate()-aE.minTranslate();R=0===s?0:(P-aE.minTranslate())/s,R!==aE.progress&&aE.updateProgress(P),L&&aE.updateActiveIndex(),"slide"!==aE.params.effect&&aE.effects[aE.params.effect]&&aE.effects[aE.params.effect].setTranslate(aE.translate),aE.params.parallax&&aE.parallax&&aE.parallax.setTranslate(aE.translate),aE.params.scrollbar&&aE.scrollbar&&aE.scrollbar.setTranslate(aE.translate),aE.params.control&&aE.controller&&aE.controller.setTranslate(aE.translate,N),aE.emit("onSetTranslate",aE,aE.translate)},aE.getTranslate=function(R,L){var N,P,M,O;return"undefined"==typeof L&&(L="x"),aE.params.virtualTranslate?aE.rtl?-aE.translate:aE.translate:(M=window.getComputedStyle(R,null),window.WebKitCSSMatrix?(P=M.transform||M.webkitTransform,P.split(",").length>6&&(P=P.split(", ").map(function(i){return i.replace(",",".")}).join(", ")),O=new window.WebKitCSSMatrix("none"===P?"":P)):(O=M.MozTransform||M.OTransform||M.MsTransform||M.msTransform||M.transform||M.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),N=O.toString().split(",")),"x"===L&&(P=window.WebKitCSSMatrix?O.m41:16===N.length?parseFloat(N[12]):parseFloat(N[4])),"y"===L&&(P=window.WebKitCSSMatrix?O.m42:16===N.length?parseFloat(N[13]):parseFloat(N[5])),aE.rtl&&P&&(P=-P),P||0)},aE.getWrapperTranslate=function(i){return"undefined"==typeof i&&(i=aE.isHorizontal()?"x":"y"),aE.getTranslate(aE.wrapper[0],i)},aE.observers=[],aE.initObservers=function(){if(aE.params.observeParents){for(var s=aE.container.parents(),i=0;i<s.length;i++){av(s[i])}}av(aE.container[0],{childList:!1}),av(aE.wrapper[0],{attributes:!1})},aE.disconnectObservers=function(){for(var i=0;i<aE.observers.length;i++){aE.observers[i].disconnect()}aE.observers=[]},aE.createLoop=function(){aE.wrapper.children("."+aE.params.slideClass+"."+aE.params.slideDuplicateClass).remove();var N=aE.wrapper.children("."+aE.params.slideClass);"auto"!==aE.params.slidesPerView||aE.params.loopedSlides||(aE.params.loopedSlides=N.length),aE.loopedSlides=parseInt(aE.params.loopedSlides||aE.params.slidesPerView,10),aE.loopedSlides=aE.loopedSlides+aE.params.loopAdditionalSlides,aE.loopedSlides>N.length&&(aE.loopedSlides=N.length);var L,M=[],s=[];for(N.each(function(i,O){var P=j(this);i<aE.loopedSlides&&s.push(O),i<N.length&&i>=N.length-aE.loopedSlides&&M.push(O),P.attr("data-swiper-slide-index",i)}),L=0;L<s.length;L++){aE.wrapper.append(j(s[L].cloneNode(!0)).addClass(aE.params.slideDuplicateClass))}for(L=M.length-1;L>=0;L--){aE.wrapper.prepend(j(M[L].cloneNode(!0)).addClass(aE.params.slideDuplicateClass))}},aE.destroyLoop=function(){aE.wrapper.children("."+aE.params.slideClass+"."+aE.params.slideDuplicateClass).remove(),aE.slides.removeAttr("data-swiper-slide-index")},aE.reLoop=function(s){var i=aE.activeIndex-aE.loopedSlides;aE.destroyLoop(),aE.createLoop(),aE.updateSlidesSize(),s&&aE.slideTo(i+aE.loopedSlides,0,!1)},aE.fixLoop=function(){var i;aE.activeIndex<aE.loopedSlides?(i=aE.slides.length-3*aE.loopedSlides+aE.activeIndex,i+=aE.loopedSlides,aE.slideTo(i,0,!1,!0)):("auto"===aE.params.slidesPerView&&aE.activeIndex>=2*aE.loopedSlides||aE.activeIndex>aE.slides.length-2*aE.params.slidesPerView)&&(i=-aE.slides.length+aE.activeIndex+aE.loopedSlides,i+=aE.loopedSlides,aE.slideTo(i,0,!1,!0))},aE.appendSlide=function(s){if(aE.params.loop&&aE.destroyLoop(),"object"==typeof s&&s.length){for(var i=0;i<s.length;i++){s[i]&&aE.wrapper.append(s[i])}}else{aE.wrapper.append(s)}aE.params.loop&&aE.createLoop(),aE.params.observer&&aE.support.observer||aE.update(!0)},aE.prependSlide=function(L){aE.params.loop&&aE.destroyLoop();var i=aE.activeIndex+1;if("object"==typeof L&&L.length){for(var s=0;s<L.length;s++){L[s]&&aE.wrapper.prepend(L[s])}i=aE.activeIndex+L.length}else{aE.wrapper.prepend(L)}aE.params.loop&&aE.createLoop(),aE.params.observer&&aE.support.observer||aE.update(!0),aE.slideTo(i,0,!1)},aE.removeSlide=function(M){aE.params.loop&&(aE.destroyLoop(),aE.slides=aE.wrapper.children("."+aE.params.slideClass));var i,s=aE.activeIndex;if("object"==typeof M&&M.length){for(var L=0;L<M.length;L++){i=M[L],aE.slides[i]&&aE.slides.eq(i).remove(),s>i&&s--}s=Math.max(s,0)}else{i=M,aE.slides[i]&&aE.slides.eq(i).remove(),s>i&&s--,s=Math.max(s,0)}aE.params.loop&&aE.createLoop(),aE.params.observer&&aE.support.observer||aE.update(!0),aE.params.loop?aE.slideTo(s+aE.loopedSlides,0,!1):aE.slideTo(s,0,!1)},aE.removeAllSlides=function(){for(var s=[],i=0;i<aE.slides.length;i++){s.push(i)}aE.removeSlide(s)},aE.effects={fade:{setTranslate:function(){for(var R=0;R<aE.slides.length;R++){var L=aE.slides.eq(R),N=L[0].swiperSlideOffset,P=-N;aE.params.virtualTranslate||(P-=aE.translate);var M=0;aE.isHorizontal()||(M=P,P=0);var O=aE.params.fade.crossFade?Math.max(1-Math.abs(L[0].progress),0):1+Math.min(Math.max(L[0].progress,-1),0);L.css({opacity:O}).transform("translate3d("+P+"px, "+M+"px, 0px)")}},setTransition:function(s){if(aE.slides.transition(s),aE.params.virtualTranslate&&0!==s){var i=!1;aE.slides.transitionEnd(function(){if(!i&&aE){i=!0,aE.animating=!1;for(var M=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],L=0;L<M.length;L++){aE.wrapper.trigger(M[L])}}})}}},flip:{setTranslate:function(){for(var S=0;S<aE.slides.length;S++){var aF=aE.slides.eq(S),L=aF[0].progress;aE.params.flip.limitRotation&&(L=Math.max(Math.min(aF[0].progress,1),-1));var R=aF[0].swiperSlideOffset,aG=-180*L,O=aG,N=0,P=-R,M=0;if(aE.isHorizontal()?aE.rtl&&(O=-O):(M=P,P=0,N=-O,O=0),aF[0].style.zIndex=-Math.abs(Math.round(L))+aE.slides.length,aE.params.flip.slideShadows){var T=aE.isHorizontal()?aF.find(".swiper-slide-shadow-left"):aF.find(".swiper-slide-shadow-top"),W=aE.isHorizontal()?aF.find(".swiper-slide-shadow-right"):aF.find(".swiper-slide-shadow-bottom");0===T.length&&(T=j('<div class="swiper-slide-shadow-'+(aE.isHorizontal()?"left":"top")+'"></div>'),aF.append(T)),0===W.length&&(W=j('<div class="swiper-slide-shadow-'+(aE.isHorizontal()?"right":"bottom")+'"></div>'),aF.append(W)),T.length&&(T[0].style.opacity=Math.max(-L,0)),W.length&&(W[0].style.opacity=Math.max(L,0))}aF.transform("translate3d("+P+"px, "+M+"px, 0px) rotateX("+N+"deg) rotateY("+O+"deg)")}},setTransition:function(s){if(aE.slides.transition(s).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(s),aE.params.virtualTranslate&&0!==s){var i=!1;aE.slides.eq(aE.activeIndex).transitionEnd(function(){if(!i&&aE&&j(this).hasClass(aE.params.slideActiveClass)){i=!0,aE.animating=!1;for(var M=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],L=0;L<M.length;L++){aE.wrapper.trigger(M[L])}}})}}},cube:{setTranslate:function(){var aM,P=0;aE.params.cube.shadow&&(aE.isHorizontal()?(aM=aE.wrapper.find(".swiper-cube-shadow"),0===aM.length&&(aM=j('<div class="swiper-cube-shadow"></div>'),aE.wrapper.append(aM)),aM.css({height:aE.width+"px"})):(aM=aE.container.find(".swiper-cube-shadow"),0===aM.length&&(aM=j('<div class="swiper-cube-shadow"></div>'),aE.container.append(aM))));for(var S=0;S<aE.slides.length;S++){var aI=aE.slides.eq(S),R=90*S,aF=Math.floor(R/360);aE.rtl&&(R=-R,aF=Math.floor(-R/360));var W=Math.max(Math.min(aI[0].progress,1),-1),aH=0,T=0,aN=0;S%4===0?(aH=4*-aF*aE.size,aN=0):(S-1)%4===0?(aH=0,aN=4*-aF*aE.size):(S-2)%4===0?(aH=aE.size+4*aF*aE.size,aN=aE.size):(S-3)%4===0&&(aH=-aE.size,aN=3*aE.size+4*aE.size*aF),aE.rtl&&(aH=-aH),aE.isHorizontal()||(T=aH,aH=0);var O="rotateX("+(aE.isHorizontal()?0:-R)+"deg) rotateY("+(aE.isHorizontal()?R:0)+"deg) translate3d("+aH+"px, "+T+"px, "+aN+"px)";if(1>=W&&W>-1&&(P=90*S+90*W,aE.rtl&&(P=90*-S-90*W)),aI.transform(O),aE.params.cube.slideShadows){var aO=aE.isHorizontal()?aI.find(".swiper-slide-shadow-left"):aI.find(".swiper-slide-shadow-top"),aG=aE.isHorizontal()?aI.find(".swiper-slide-shadow-right"):aI.find(".swiper-slide-shadow-bottom");0===aO.length&&(aO=j('<div class="swiper-slide-shadow-'+(aE.isHorizontal()?"left":"top")+'"></div>'),aI.append(aO)),0===aG.length&&(aG=j('<div class="swiper-slide-shadow-'+(aE.isHorizontal()?"right":"bottom")+'"></div>'),aI.append(aG)),aO.length&&(aO[0].style.opacity=Math.max(-W,0)),aG.length&&(aG[0].style.opacity=Math.max(W,0))}}if(aE.wrapper.css({"-webkit-transform-origin":"50% 50% -"+aE.size/2+"px","-moz-transform-origin":"50% 50% -"+aE.size/2+"px","-ms-transform-origin":"50% 50% -"+aE.size/2+"px","transform-origin":"50% 50% -"+aE.size/2+"px"}),aE.params.cube.shadow){if(aE.isHorizontal()){aM.transform("translate3d(0px, "+(aE.width/2+aE.params.cube.shadowOffset)+"px, "+-aE.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+aE.params.cube.shadowScale+")")}else{var aJ=Math.abs(P)-90*Math.floor(Math.abs(P)/90),aL=1.5-(Math.sin(2*aJ*Math.PI/360)/2+Math.cos(2*aJ*Math.PI/360)/2),aK=aE.params.cube.shadowScale,N=aE.params.cube.shadowScale/aL,M=aE.params.cube.shadowOffset;aM.transform("scale3d("+aK+", 1, "+N+") translate3d(0px, "+(aE.height/2+M)+"px, "+-aE.height/2/N+"px) rotateX(-90deg)")}}var L=aE.isSafari||aE.isUiWebView?-aE.size/2:0;aE.wrapper.transform("translate3d(0px,0,"+L+"px) rotateX("+(aE.isHorizontal()?0:P)+"deg) rotateY("+(aE.isHorizontal()?-P:0)+"deg)")},setTransition:function(i){aE.slides.transition(i).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(i),aE.params.cube.shadow&&!aE.isHorizontal()&&aE.container.find(".swiper-cube-shadow").transition(i)}},coverflow:{setTranslate:function(){for(var aM=aE.translate,P=aE.isHorizontal()?-aM+aE.width/2:-aM+aE.height/2,S=aE.isHorizontal()?aE.params.coverflow.rotate:-aE.params.coverflow.rotate,aI=aE.params.coverflow.depth,R=0,aF=aE.slides.length;aF>R;R++){var W=aE.slides.eq(R),aH=aE.slidesSizesGrid[R],T=W[0].swiperSlideOffset,aN=(P-T-aH/2)/aH*aE.params.coverflow.modifier,O=aE.isHorizontal()?S*aN:0,aO=aE.isHorizontal()?0:S*aN,aG=-aI*Math.abs(aN),aJ=aE.isHorizontal()?0:aE.params.coverflow.stretch*aN,aL=aE.isHorizontal()?aE.params.coverflow.stretch*aN:0;Math.abs(aL)<0.001&&(aL=0),Math.abs(aJ)<0.001&&(aJ=0),Math.abs(aG)<0.001&&(aG=0),Math.abs(O)<0.001&&(O=0),Math.abs(aO)<0.001&&(aO=0);var aK="translate3d("+aL+"px,"+aJ+"px,"+aG+"px)  rotateX("+aO+"deg) rotateY("+O+"deg)";if(W.transform(aK),W[0].style.zIndex=-Math.abs(Math.round(aN))+1,aE.params.coverflow.slideShadows){var N=aE.isHorizontal()?W.find(".swiper-slide-shadow-left"):W.find(".swiper-slide-shadow-top"),M=aE.isHorizontal()?W.find(".swiper-slide-shadow-right"):W.find(".swiper-slide-shadow-bottom");0===N.length&&(N=j('<div class="swiper-slide-shadow-'+(aE.isHorizontal()?"left":"top")+'"></div>'),W.append(N)),0===M.length&&(M=j('<div class="swiper-slide-shadow-'+(aE.isHorizontal()?"right":"bottom")+'"></div>'),W.append(M)),N.length&&(N[0].style.opacity=aN>0?aN:0),M.length&&(M[0].style.opacity=-aN>0?-aN:0)}}if(aE.browser.ie){var L=aE.wrapper[0].style;L.perspectiveOrigin=P+"px 50%"}},setTransition:function(i){aE.slides.transition(i).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(i)}}},aE.lazy={initialImageLoaded:!1,loadImageInSlide:function(N,L){if("undefined"!=typeof N&&("undefined"==typeof L&&(L=!0),0!==aE.slides.length)){var M=aE.slides.eq(N),s=M.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!M.hasClass("swiper-lazy")||M.hasClass("swiper-lazy-loaded")||M.hasClass("swiper-lazy-loading")||(s=s.add(M[0])),0!==s.length&&s.each(function(){var R=j(this);R.addClass("swiper-lazy-loading");var O=R.attr("data-background"),P=R.attr("data-src"),S=R.attr("data-srcset");aE.loadImage(R[0],P||O,S,!1,function(){if(O?(R.css("background-image",'url("'+O+'")'),R.removeAttr("data-background")):(S&&(R.attr("srcset",S),R.removeAttr("data-srcset")),P&&(R.attr("src",P),R.removeAttr("data-src"))),R.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),M.find(".swiper-lazy-preloader, .preloader").remove(),aE.params.loop&&L){var T=M.attr("data-swiper-slide-index");if(M.hasClass(aE.params.slideDuplicateClass)){var W=aE.wrapper.children('[data-swiper-slide-index="'+T+'"]:not(.'+aE.params.slideDuplicateClass+")");aE.lazy.loadImageInSlide(W.index(),!1)}else{var i=aE.wrapper.children("."+aE.params.slideDuplicateClass+'[data-swiper-slide-index="'+T+'"]');aE.lazy.loadImageInSlide(i.index(),!1)}}aE.emit("onLazyImageReady",aE,M[0],R[0])}),aE.emit("onLazyImageLoad",aE,M[0],R[0])})}},load:function(){var P;if(aE.params.watchSlidesVisibility){aE.wrapper.children("."+aE.params.slideVisibleClass).each(function(){aE.lazy.loadImageInSlide(j(this).index())})}else{if(aE.params.slidesPerView>1){for(P=aE.activeIndex;P<aE.activeIndex+aE.params.slidesPerView;P++){aE.slides[P]&&aE.lazy.loadImageInSlide(P)}}else{aE.lazy.loadImageInSlide(aE.activeIndex)}}if(aE.params.lazyLoadingInPrevNext){if(aE.params.slidesPerView>1||aE.params.lazyLoadingInPrevNextAmount&&aE.params.lazyLoadingInPrevNextAmount>1){var M=aE.params.lazyLoadingInPrevNextAmount,O=aE.params.slidesPerView,L=Math.min(aE.activeIndex+O+Math.max(M,O),aE.slides.length),N=Math.max(aE.activeIndex-Math.max(O,M),0);for(P=aE.activeIndex+aE.params.slidesPerView;L>P;P++){aE.slides[P]&&aE.lazy.loadImageInSlide(P)}for(P=N;P<aE.activeIndex;P++){aE.slides[P]&&aE.lazy.loadImageInSlide(P)}}else{var S=aE.wrapper.children("."+aE.params.slideNextClass);S.length>0&&aE.lazy.loadImageInSlide(S.index());var R=aE.wrapper.children("."+aE.params.slidePrevClass);R.length>0&&aE.lazy.loadImageInSlide(R.index())}}},onTransitionStart:function(){aE.params.lazyLoading&&(aE.params.lazyLoadingOnTransitionStart||!aE.params.lazyLoadingOnTransitionStart&&!aE.lazy.initialImageLoaded)&&aE.lazy.load()},onTransitionEnd:function(){aE.params.lazyLoading&&!aE.params.lazyLoadingOnTransitionStart&&aE.lazy.load()}},aE.scrollbar={isTouched:!1,setDragPosition:function(R){var L=aE.scrollbar,N=aE.isHorizontal()?"touchstart"===R.type||"touchmove"===R.type?R.targetTouches[0].pageX:R.pageX||R.clientX:"touchstart"===R.type||"touchmove"===R.type?R.targetTouches[0].pageY:R.pageY||R.clientY,P=N-L.track.offset()[aE.isHorizontal()?"left":"top"]-L.dragSize/2,M=-aE.minTranslate()*L.moveDivider,O=-aE.maxTranslate()*L.moveDivider;M>P?P=M:P>O&&(P=O),P=-P/L.moveDivider,aE.updateProgress(P),aE.setWrapperTranslate(P,!0)},dragStart:function(s){var i=aE.scrollbar;i.isTouched=!0,s.preventDefault(),s.stopPropagation(),i.setDragPosition(s),clearTimeout(i.dragTimeout),i.track.transition(0),aE.params.scrollbarHide&&i.track.css("opacity",1),aE.wrapper.transition(100),i.drag.transition(100),aE.emit("onScrollbarDragStart",aE)},dragMove:function(s){var i=aE.scrollbar;i.isTouched&&(s.preventDefault?s.preventDefault():s.returnValue=!1,i.setDragPosition(s),aE.wrapper.transition(0),i.track.transition(0),i.drag.transition(0),aE.emit("onScrollbarDragMove",aE))},dragEnd:function(s){var i=aE.scrollbar;i.isTouched&&(i.isTouched=!1,aE.params.scrollbarHide&&(clearTimeout(i.dragTimeout),i.dragTimeout=setTimeout(function(){i.track.css("opacity",0),i.track.transition(400)},1000)),aE.emit("onScrollbarDragEnd",aE),aE.params.scrollbarSnapOnRelease&&aE.slideReset())},enableDraggable:function(){var s=aE.scrollbar,i=aE.support.touch?s.track:document;j(s.track).on(aE.touchEvents.start,s.dragStart),j(i).on(aE.touchEvents.move,s.dragMove),j(i).on(aE.touchEvents.end,s.dragEnd)},disableDraggable:function(){var s=aE.scrollbar,i=aE.support.touch?s.track:document;j(s.track).off(aE.touchEvents.start,s.dragStart),j(i).off(aE.touchEvents.move,s.dragMove),j(i).off(aE.touchEvents.end,s.dragEnd)},set:function(){if(aE.params.scrollbar){var i=aE.scrollbar;i.track=j(aE.params.scrollbar),aE.params.uniqueNavElements&&"string"==typeof aE.params.scrollbar&&i.track.length>1&&1===aE.container.find(aE.params.scrollbar).length&&(i.track=aE.container.find(aE.params.scrollbar)),i.drag=i.track.find(".swiper-scrollbar-drag"),0===i.drag.length&&(i.drag=j('<div class="swiper-scrollbar-drag"></div>'),i.track.append(i.drag)),i.drag[0].style.width="",i.drag[0].style.height="",i.trackSize=aE.isHorizontal()?i.track[0].offsetWidth:i.track[0].offsetHeight,i.divider=aE.size/aE.virtualSize,i.moveDivider=i.divider*(i.trackSize/aE.size),i.dragSize=i.trackSize*i.divider,aE.isHorizontal()?i.drag[0].style.width=i.dragSize+"px":i.drag[0].style.height=i.dragSize+"px",i.divider>=1?i.track[0].style.display="none":i.track[0].style.display="",aE.params.scrollbarHide&&(i.track[0].style.opacity=0)}},setTranslate:function(){if(aE.params.scrollbar){var L,i=aE.scrollbar,s=(aE.translate||0,i.dragSize);L=(i.trackSize-i.dragSize)*aE.progress,aE.rtl&&aE.isHorizontal()?(L=-L,L>0?(s=i.dragSize-L,L=0):-L+i.dragSize>i.trackSize&&(s=i.trackSize+L)):0>L?(s=i.dragSize+L,L=0):L+i.dragSize>i.trackSize&&(s=i.trackSize-L),aE.isHorizontal()?(aE.support.transforms3d?i.drag.transform("translate3d("+L+"px, 0, 0)"):i.drag.transform("translateX("+L+"px)"),i.drag[0].style.width=s+"px"):(aE.support.transforms3d?i.drag.transform("translate3d(0px, "+L+"px, 0)"):i.drag.transform("translateY("+L+"px)"),i.drag[0].style.height=s+"px"),aE.params.scrollbarHide&&(clearTimeout(i.timeout),i.track[0].style.opacity=1,i.timeout=setTimeout(function(){i.track[0].style.opacity=0,i.track.transition(400)},1000))}},setTransition:function(i){aE.params.scrollbar&&aE.scrollbar.drag.transition(i)}},aE.controller={LinearSpline:function(O,s){this.x=O,this.y=s,this.lastIndex=O.length-1;var M,N;this.x.length;this.interpolate=function(i){return i?(N=L(this.x,i),M=N-1,(i-this.x[M])*(this.y[N]-this.y[M])/(this.x[N]-this.x[M])+this.y[M]):0};var L=function(){var R,i,P;return function(T,S){for(i=-1,R=T.length;R-i>1;){T[P=R+i>>1]<=S?i=P:R=P}return R}}()},getInterpolateFunction:function(i){aE.controller.spline||(aE.controller.spline=aE.params.loop?new aE.controller.LinearSpline(aE.slidesGrid,i.slidesGrid):new aE.controller.LinearSpline(aE.snapGrid,i.snapGrid))},setTranslate:function(P,L){function O(i){P=i.rtl&&"horizontal"===i.params.direction?-aE.translate:aE.translate,"slide"===aE.params.controlBy&&(aE.controller.getInterpolateFunction(i),N=-aE.controller.spline.interpolate(-P)),N&&"container"!==aE.params.controlBy||(M=(i.maxTranslate()-i.minTranslate())/(aE.maxTranslate()-aE.minTranslate()),N=(P-aE.minTranslate())*M+i.minTranslate()),aE.params.controlInverse&&(N=i.maxTranslate()-N),i.updateProgress(N),i.setWrapperTranslate(N,!1,aE),i.updateActiveIndex()}var M,N,S=aE.params.control;if(aE.isArray(S)){for(var R=0;R<S.length;R++){S[R]!==L&&S[R] instanceof E&&O(S[R])}}else{S instanceof E&&L!==S&&O(S)}},setTransition:function(P,L){function O(i){i.setWrapperTransition(P,aE),0!==P&&(i.onTransitionStart(),i.wrapper.transitionEnd(function(){N&&(i.params.loop&&"slide"===aE.params.controlBy&&i.fixLoop(),i.onTransitionEnd())}))}var M,N=aE.params.control;if(aE.isArray(N)){for(M=0;M<N.length;M++){N[M]!==L&&N[M] instanceof E&&O(N[M])}}else{N instanceof E&&L!==N&&O(N)}}},aE.hashnav={init:function(){if(aE.params.hashnav){aE.hashnav.initialized=!0;var R=document.location.hash.replace("#","");if(R){for(var L=0,N=0,P=aE.slides.length;P>N;N++){var M=aE.slides.eq(N),O=M.attr("data-hash");if(O===R&&!M.hasClass(aE.params.slideDuplicateClass)){var S=M.index();aE.slideTo(S,L,aE.params.runCallbacksOnInit,!0)}}}}},setHash:function(){aE.hashnav.initialized&&aE.params.hashnav&&(document.location.hash=aE.slides.eq(aE.activeIndex).attr("data-hash")||"")}},aE.disableKeyboardControl=function(){aE.params.keyboardControl=!1,j(document).off("keydown",aq)},aE.enableKeyboardControl=function(){aE.params.keyboardControl=!0,j(document).on("keydown",aq)},aE.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},aE.params.mousewheelControl){try{new window.WheelEvent("wheel"),aE.mousewheel.event="wheel"}catch(Y){(window.WheelEvent||aE.container[0]&&"wheel" in aE.container[0])&&(aE.mousewheel.event="wheel")}!aE.mousewheel.event&&window.WheelEvent,aE.mousewheel.event||void 0===document.onmousewheel||(aE.mousewheel.event="mousewheel"),aE.mousewheel.event||(aE.mousewheel.event="DOMMouseScroll")}aE.disableMousewheelControl=function(){return aE.mousewheel.event?(aE.container.off(aE.mousewheel.event,aC),!0):!1},aE.enableMousewheelControl=function(){return aE.mousewheel.event?(aE.container.on(aE.mousewheel.event,aC),!0):!1},aE.parallax={setTranslate:function(){aE.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){ao(this,aE.progress)}),aE.slides.each(function(){var i=j(this);i.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var s=Math.min(Math.max(i[0].progress,-1),1);ao(this,s)})})},setTransition:function(i){"undefined"==typeof i&&(i=aE.params.speed),aE.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var s=j(this),L=parseInt(s.attr("data-swiper-parallax-duration"),10)||i;0===i&&(L=0),s.transition(L)})}},aE._plugins=[];for(var U in aE.plugins){var J=aE.plugins[U](aE,aE.params[U]);J&&aE._plugins.push(J)}return aE.callPlugins=function(s){for(var i=0;i<aE._plugins.length;i++){s in aE._plugins[i]&&aE._plugins[i][s](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}},aE.emitterEventListeners={},aE.emit=function(s){aE.params[s]&&aE.params[s](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var i;if(aE.emitterEventListeners[s]){for(i=0;i<aE.emitterEventListeners[s].length;i++){aE.emitterEventListeners[s][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}aE.callPlugins&&aE.callPlugins(s,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},aE.on=function(s,i){return s=aD(s),aE.emitterEventListeners[s]||(aE.emitterEventListeners[s]=[]),aE.emitterEventListeners[s].push(i),aE},aE.off=function(L,i){var s;if(L=aD(L),"undefined"==typeof i){return aE.emitterEventListeners[L]=[],aE}if(aE.emitterEventListeners[L]&&0!==aE.emitterEventListeners[L].length){for(s=0;s<aE.emitterEventListeners[L].length;s++){aE.emitterEventListeners[L][s]===i&&aE.emitterEventListeners[L].splice(s,1)}return aE}},aE.once=function(L,i){L=aD(L);var s=function(){i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),aE.off(L,s)};return aE.on(L,s),aE},aE.a11y={makeFocusable:function(i){return i.attr("tabIndex","0"),i},addRole:function(s,i){return s.attr("role",i),s},addLabel:function(s,i){return s.attr("aria-label",i),s},disable:function(i){return i.attr("aria-disabled",!0),i},enable:function(i){return i.attr("aria-disabled",!1),i},onEnterKey:function(i){13===i.keyCode&&(j(i.target).is(aE.params.nextButton)?(aE.onClickNext(i),aE.isEnd?aE.a11y.notify(aE.params.lastSlideMessage):aE.a11y.notify(aE.params.nextSlideMessage)):j(i.target).is(aE.params.prevButton)&&(aE.onClickPrev(i),aE.isBeginning?aE.a11y.notify(aE.params.firstSlideMessage):aE.a11y.notify(aE.params.prevSlideMessage)),j(i.target).is("."+aE.params.bulletClass)&&j(i.target)[0].click())},liveRegion:j('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(s){var i=aE.a11y.liveRegion;0!==i.length&&(i.html(""),i.html(s))},init:function(){aE.params.nextButton&&aE.nextButton&&aE.nextButton.length>0&&(aE.a11y.makeFocusable(aE.nextButton),aE.a11y.addRole(aE.nextButton,"button"),aE.a11y.addLabel(aE.nextButton,aE.params.nextSlideMessage)),aE.params.prevButton&&aE.prevButton&&aE.prevButton.length>0&&(aE.a11y.makeFocusable(aE.prevButton),aE.a11y.addRole(aE.prevButton,"button"),aE.a11y.addLabel(aE.prevButton,aE.params.prevSlideMessage)),j(aE.container).append(aE.a11y.liveRegion)},initPagination:function(){aE.params.pagination&&aE.params.paginationClickable&&aE.bullets&&aE.bullets.length&&aE.bullets.each(function(){var i=j(this);aE.a11y.makeFocusable(i),aE.a11y.addRole(i,"button"),aE.a11y.addLabel(i,aE.params.paginationBulletMessage.replace(/{{index}}/,i.index()+1))})},destroy:function(){aE.a11y.liveRegion&&aE.a11y.liveRegion.length>0&&aE.a11y.liveRegion.remove()}},aE.init=function(){aE.params.loop&&aE.createLoop(),aE.updateContainerSize(),aE.updateSlidesSize(),aE.updatePagination(),aE.params.scrollbar&&aE.scrollbar&&(aE.scrollbar.set(),aE.params.scrollbarDraggable&&aE.scrollbar.enableDraggable()),"slide"!==aE.params.effect&&aE.effects[aE.params.effect]&&(aE.params.loop||aE.updateProgress(),aE.effects[aE.params.effect].setTranslate()),aE.params.loop?aE.slideTo(aE.params.initialSlide+aE.loopedSlides,0,aE.params.runCallbacksOnInit):(aE.slideTo(aE.params.initialSlide,0,aE.params.runCallbacksOnInit),0===aE.params.initialSlide&&(aE.parallax&&aE.params.parallax&&aE.parallax.setTranslate(),aE.lazy&&aE.params.lazyLoading&&(aE.lazy.load(),aE.lazy.initialImageLoaded=!0))),aE.attachEvents(),aE.params.observer&&aE.support.observer&&aE.initObservers(),aE.params.preloadImages&&!aE.params.lazyLoading&&aE.preloadImages(),aE.params.autoplay&&aE.startAutoplay(),aE.params.keyboardControl&&aE.enableKeyboardControl&&aE.enableKeyboardControl(),aE.params.mousewheelControl&&aE.enableMousewheelControl&&aE.enableMousewheelControl(),aE.params.hashnav&&aE.hashnav&&aE.hashnav.init(),aE.params.a11y&&aE.a11y&&aE.a11y.init(),aE.emit("onInit",aE)},aE.cleanupStyles=function(){aE.container.removeClass(aE.classNames.join(" ")).removeAttr("style"),aE.wrapper.removeAttr("style"),aE.slides&&aE.slides.length&&aE.slides.removeClass([aE.params.slideVisibleClass,aE.params.slideActiveClass,aE.params.slideNextClass,aE.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),aE.paginationContainer&&aE.paginationContainer.length&&aE.paginationContainer.removeClass(aE.params.paginationHiddenClass),aE.bullets&&aE.bullets.length&&aE.bullets.removeClass(aE.params.bulletActiveClass),aE.params.prevButton&&j(aE.params.prevButton).removeClass(aE.params.buttonDisabledClass),aE.params.nextButton&&j(aE.params.nextButton).removeClass(aE.params.buttonDisabledClass),aE.params.scrollbar&&aE.scrollbar&&(aE.scrollbar.track&&aE.scrollbar.track.length&&aE.scrollbar.track.removeAttr("style"),aE.scrollbar.drag&&aE.scrollbar.drag.length&&aE.scrollbar.drag.removeAttr("style"))},aE.destroy=function(s,i){aE.detachEvents(),aE.stopAutoplay(),aE.params.scrollbar&&aE.scrollbar&&aE.params.scrollbarDraggable&&aE.scrollbar.disableDraggable(),aE.params.loop&&aE.destroyLoop(),i&&aE.cleanupStyles(),aE.disconnectObservers(),aE.params.keyboardControl&&aE.disableKeyboardControl&&aE.disableKeyboardControl(),aE.params.mousewheelControl&&aE.disableMousewheelControl&&aE.disableMousewheelControl(),aE.params.a11y&&aE.a11y&&aE.a11y.destroy(),aE.emit("onDestroy"),s!==!1&&(aE=null)},aE.init(),aE}};E.prototype={isSafari:function(){var i=navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(i){return"[object Array]"===Object.prototype.toString.apply(i)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var M=navigator.userAgent,s=M.match(/(Android);?[\s\/]+([\d.]+)?/),K=M.match(/(iPad).*OS\s([\d_]+)/),L=M.match(/(iPod)(.*OS\s([\d_]+))?/),J=!K&&M.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:K||J||L,android:s}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return !!("ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var i=document.createElement("div").style;return"webkitPerspective" in i||"MozPerspective" in i||"OPerspective" in i||"MsPerspective" in i||"perspective" in i}(),flexbox:function(){for(var J=document.createElement("div").style,i="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),s=0;s<i.length;s++){if(i[s] in J){return !0}}}(),observer:function(){return"MutationObserver" in window||"WebkitMutationObserver" in window}()},plugins:{}};for(var G=(function(){var s=function(L){var J=this,K=0;for(K=0;K<L.length;K++){J[K]=L[K]}return J.length=L.length,this},i=function(K,M){var O=[],L=0;if(K&&!M&&K instanceof s){return K}if(K){if("string"==typeof K){var N,Q,P=K.trim();if(P.indexOf("<")>=0&&P.indexOf(">")>=0){var J="div";for(0===P.indexOf("<li")&&(J="ul"),0===P.indexOf("<tr")&&(J="tbody"),(0===P.indexOf("<td")||0===P.indexOf("<th"))&&(J="tr"),0===P.indexOf("<tbody")&&(J="table"),0===P.indexOf("<option")&&(J="select"),Q=document.createElement(J),Q.innerHTML=K,L=0;L<Q.childNodes.length;L++){O.push(Q.childNodes[L])}}else{for(N=M||"#"!==K[0]||K.match(/[ .<>:~]/)?(M||document).querySelectorAll(K):[document.getElementById(K.split("#")[1])],L=0;L<N.length;L++){N[L]&&O.push(N[L])}}}else{if(K.nodeType||K===window||K===document){O.push(K)}else{if(K.length>0&&K[0].nodeType){for(L=0;L<K.length;L++){O.push(K[L])}}}}}return new s(O)};return s.prototype={addClass:function(M){if("undefined"==typeof M){return this}for(var J=M.split(" "),K=0;K<J.length;K++){for(var L=0;L<this.length;L++){this[L].classList.add(J[K])}}return this},removeClass:function(M){for(var J=M.split(" "),K=0;K<J.length;K++){for(var L=0;L<this.length;L++){this[L].classList.remove(J[K])}}return this},hasClass:function(J){return this[0]?this[0].classList.contains(J):!1},toggleClass:function(M){for(var J=M.split(" "),K=0;K<J.length;K++){for(var L=0;L<this.length;L++){this[L].classList.toggle(J[K])}}return this},attr:function(M,J){if(1===arguments.length&&"string"==typeof M){return this[0]?this[0].getAttribute(M):void 0}for(var K=0;K<this.length;K++){if(2===arguments.length){this[K].setAttribute(M,J)}else{for(var L in M){this[K][L]=M[L],this[K].setAttribute(L,M[L])}}}return this},removeAttr:function(K){for(var J=0;J<this.length;J++){this[J].removeAttribute(K)}return this},data:function(N,J){if("undefined"!=typeof J){for(var L=0;L<this.length;L++){var M=this[L];M.dom7ElementDataStorage||(M.dom7ElementDataStorage={}),M.dom7ElementDataStorage[N]=J}return this}if(this[0]){var K=this[0].getAttribute("data-"+N);return K?K:this[0].dom7ElementDataStorage&&N in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[N]:void 0}},transform:function(L){for(var J=0;J<this.length;J++){var K=this[J].style;K.webkitTransform=K.MsTransform=K.msTransform=K.MozTransform=K.OTransform=K.transform=L}return this},transition:function(L){"string"!=typeof L&&(L+="ms");for(var J=0;J<this.length;J++){var K=this[J].style;K.webkitTransitionDuration=K.MsTransitionDuration=K.msTransitionDuration=K.MozTransitionDuration=K.OTransitionDuration=K.transitionDuration=L}return this},on:function(O,L,N,K){function M(T){var R=T.target;if(i(R).is(L)){N.call(R,T)}else{for(var S=i(R).parents(),U=0;U<S.length;U++){i(S[U]).is(L)&&N.call(S[U],T)}}}var Q,P,J=O.split(" ");for(Q=0;Q<this.length;Q++){if("function"==typeof L||L===!1){for("function"==typeof L&&(N=arguments[1],K=arguments[2]||!1),P=0;P<J.length;P++){this[Q].addEventListener(J[P],N,K)}}else{for(P=0;P<J.length;P++){this[Q].dom7LiveListeners||(this[Q].dom7LiveListeners=[]),this[Q].dom7LiveListeners.push({listener:N,liveListener:M}),this[Q].addEventListener(J[P],M,K)}}}return this},off:function(O,J,L,N){for(var K=O.split(" "),M=0;M<K.length;M++){for(var Q=0;Q<this.length;Q++){if("function"==typeof J||J===!1){"function"==typeof J&&(L=arguments[1],N=arguments[2]||!1),this[Q].removeEventListener(K[M],L,N)}else{if(this[Q].dom7LiveListeners){for(var P=0;P<this[Q].dom7LiveListeners.length;P++){this[Q].dom7LiveListeners[P].listener===L&&this[Q].removeEventListener(K[M],this[Q].dom7LiveListeners[P].liveListener,N)}}}}}return this},once:function(O,J,L,N){function K(P){L(P),M.off(O,J,K,N)}var M=this;"function"==typeof J&&(J=!1,L=arguments[1],N=arguments[2]),M.on(O,J,K,N)},trigger:function(N,J){for(var L=0;L<this.length;L++){var M;try{M=new window.CustomEvent(N,{detail:J,bubbles:!0,cancelable:!0})}catch(K){M=document.createEvent("Event"),M.initEvent(N,!0,!0),M.detail=J}this[L].dispatchEvent(M)}return this},transitionEnd:function(N){function J(O){if(O.target===this){for(N.call(this,O),L=0;L<M.length;L++){K.off(M[L],J)}}}var L,M=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],K=this;if(N){for(L=0;L<M.length;L++){K.on(M[L],J)}}return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(J){return this.length>0?J?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(J){return this.length>0?J?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var O=this[0],J=O.getBoundingClientRect(),L=document.body,N=O.clientTop||L.clientTop||0,K=O.clientLeft||L.clientLeft||0,M=window.pageYOffset||O.scrollTop,P=window.pageXOffset||O.scrollLeft;return{top:J.top+M-N,left:J.left+P-K}}return null},css:function(M,J){var K;if(1===arguments.length){if("string"!=typeof M){for(K=0;K<this.length;K++){for(var L in M){this[K].style[L]=M[L]}}return this}if(this[0]){return window.getComputedStyle(this[0],null).getPropertyValue(M)}}if(2===arguments.length&&"string"==typeof M){for(K=0;K<this.length;K++){this[K].style[M]=J}return this}return this},each:function(K){for(var J=0;J<this.length;J++){K.call(this[J],J,this[J])}return this},html:function(K){if("undefined"==typeof K){return this[0]?this[0].innerHTML:void 0}for(var J=0;J<this.length;J++){this[J].innerHTML=K}return this},text:function(K){if("undefined"==typeof K){return this[0]?this[0].textContent.trim():null}for(var J=0;J<this.length;J++){this[J].textContent=K}return this},is:function(K){if(!this[0]){return !1}var M,J;if("string"==typeof K){var L=this[0];if(L===document){return K===document}if(L===window){return K===window}if(L.matches){return L.matches(K)}if(L.webkitMatchesSelector){return L.webkitMatchesSelector(K)}if(L.mozMatchesSelector){return L.mozMatchesSelector(K)}if(L.msMatchesSelector){return L.msMatchesSelector(K)}for(M=i(K),J=0;J<M.length;J++){if(M[J]===this[0]){return !0}}return !1}if(K===document){return this[0]===document}if(K===window){return this[0]===window}if(K.nodeType||K instanceof s){for(M=K.nodeType?[K]:K,J=0;J<M.length;J++){if(M[J]===this[0]){return !0}}return !1}return !1},index:function(){if(this[0]){for(var K=this[0],J=0;null!==(K=K.previousSibling);){1===K.nodeType&&J++}return J}},eq:function(J){if("undefined"==typeof J){return this}var K,L=this.length;return J>L-1?new s([]):0>J?(K=L+J,new s(0>K?[]:[this[K]])):new s([this[J]])},append:function(J){var L,M;for(L=0;L<this.length;L++){if("string"==typeof J){var K=document.createElement("div");for(K.innerHTML=J;K.firstChild;){this[L].appendChild(K.firstChild)}}else{if(J instanceof s){for(M=0;M<J.length;M++){this[L].appendChild(J[M])}}else{this[L].appendChild(J)}}}return this},prepend:function(J){var L,M;for(L=0;L<this.length;L++){if("string"==typeof J){var K=document.createElement("div");for(K.innerHTML=J,M=K.childNodes.length-1;M>=0;M--){this[L].insertBefore(K.childNodes[M],this[L].childNodes[0])}}else{if(J instanceof s){for(M=0;M<J.length;M++){this[L].insertBefore(J[M],this[L].childNodes[0])}}else{this[L].insertBefore(J,this[L].childNodes[0])}}}return this},insertBefore:function(M){for(var K=i(M),L=0;L<this.length;L++){if(1===K.length){K[0].parentNode.insertBefore(this[L],K[0])}else{if(K.length>1){for(var J=0;J<K.length;J++){K[J].parentNode.insertBefore(this[L].cloneNode(!0),K[J])}}}}},insertAfter:function(M){for(var K=i(M),L=0;L<this.length;L++){if(1===K.length){K[0].parentNode.insertBefore(this[L],K[0].nextSibling)}else{if(K.length>1){for(var J=0;J<K.length;J++){K[J].parentNode.insertBefore(this[L].cloneNode(!0),K[J].nextSibling)}}}}},next:function(J){return new s(this.length>0?J?this[0].nextElementSibling&&i(this[0].nextElementSibling).is(J)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(K){var M=[],J=this[0];if(!J){return new s([])}for(;J.nextElementSibling;){var L=J.nextElementSibling;K?i(L).is(K)&&M.push(L):M.push(L),J=L}return new s(M)},prev:function(J){return new s(this.length>0?J?this[0].previousElementSibling&&i(this[0].previousElementSibling).is(J)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(K){var M=[],J=this[0];if(!J){return new s([])}for(;J.previousElementSibling;){var L=J.previousElementSibling;K?i(L).is(K)&&M.push(L):M.push(L),J=L}return new s(M)},parent:function(L){for(var J=[],K=0;K<this.length;K++){L?i(this[K].parentNode).is(L)&&J.push(this[K].parentNode):J.push(this[K].parentNode)}return i(i.unique(J))},parents:function(M){for(var K=[],L=0;L<this.length;L++){for(var J=this[L].parentNode;J;){M?i(J).is(M)&&K.push(J):K.push(J),J=J.parentNode}}return i(i.unique(K))},find:function(J){for(var L=[],N=0;N<this.length;N++){for(var K=this[N].querySelectorAll(J),M=0;M<K.length;M++){L.push(K[M])}}return new s(L)},children:function(K){for(var M=[],J=0;J<this.length;J++){for(var L=this[J].childNodes,N=0;N<L.length;N++){K?1===L[N].nodeType&&i(L[N]).is(K)&&M.push(L[N]):1===L[N].nodeType&&M.push(L[N])}}return new s(i.unique(M))},remove:function(){for(var J=0;J<this.length;J++){this[J].parentNode&&this[J].parentNode.removeChild(this[J])}return this},add:function(){var M,K,L=this;for(M=0;M<arguments.length;M++){var J=i(arguments[M]);for(K=0;K<J.length;K++){L[L.length]=J[K],L.length++}}return L}},i.fn=s.prototype,i.unique=function(L){for(var J=[],K=0;K<L.length;K++){-1===J.indexOf(L[K])&&J.push(L[K])}return J},i}()),D=["jQuery","Zepto","Dom7"],F=0;F<D.length;F++){window[D[F]]&&H(window[D[F]])}var I;I="undefined"==typeof G?window.Dom7||window.Zepto||window.jQuery:G,I&&("transitionEnd" in I.fn||(I.fn.transitionEnd=function(M){function s(i){if(i.target===this){for(M.call(this,i),K=0;K<L.length;K++){J.off(L[K],s)}}}var K,L=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],J=this;if(M){for(K=0;K<L.length;K++){J.on(L[K],s)}}return this}),"transform" in I.fn||(I.fn.transform=function(J){for(var i=0;i<this.length;i++){var s=this[i].style;s.webkitTransform=s.MsTransform=s.msTransform=s.MozTransform=s.OTransform=s.transform=J}return this}),"transition" in I.fn||(I.fn.transition=function(J){"string"!=typeof J&&(J+="ms");for(var i=0;i<this.length;i++){var s=this[i].style;s.webkitTransitionDuration=s.MsTransitionDuration=s.msTransitionDuration=s.MozTransitionDuration=s.OTransitionDuration=s.transitionDuration=J}return this})),window.Swiper=E}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){return window.Swiper});var q=function(j,i){j.className+=(j.className?" ":"")+i};var x=function(E){var F=E.container.querySelector("#_popIn_recommend_ad_only ._popIn_recommend_articles");q(F,"swiper-container");var G=E.container.querySelector("#_popIn_recommend_ad_only ._popIn_infinite_page");q(G,"swiper-wrapper");var D=E.container.querySelectorAll("#_popIn_recommend_ad_only ._popIn_recommend_article");for(var j=0,s=D.length;j<s;j++){q(D[j],"swiper-slide")}var i=new Swiper("#_popIn_recommend_ad_only ._popIn_recommend_articles",{loop:true,pagination:".swiper-pagination",slidesPerView:"auto",paginationClickable:true,spaceBetween:15})};var h={};if(typeof h.all==="undefined"){h.all={}}h.all["Read"]={mainNode:".news-body",readArticle:true};if(typeof h.mobile==="undefined"){h.mobile={}}h.mobile["Discovery"]={adVideo:true,adEnable:true,load:"fast",agency:"cnplus",templates:[{credit:"Recommended by",selector:"#_popIn_recommend",position:"AfterBegin",title:"",adVideoPosition:0,css:n["collect.mobile"],type:["rand","related",0]},{abtestName:"",adVideoPosition:1,dateFormat:"Y-M-D",delWord:"\\|.+",delImage:"",afterRender:b,css:n["renew.mobile"],imageSize:"160",imageInView:false,infiniteSize:15,infinitePages:1,plugins:["clickall","infinite"],position:"AfterBegin",selector:"#_popIn_recommend_renew",credit:"Recommended by",title:"猜您喜歡",type:["pattern",["left","ad",5],["left","cf",20],["rand","ad_reserved",2],["rand","e_ranking",10],["rand","hot","pop","related","recommend",100],function(){var H=[0];var D=["ad_reserved","cf_img","hot_img","related_img","pop_img","recommend_img"];var G=[["cf_img","related_img","hot_img","pop_img","recommend_img"],["cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"]];if(H.length===0){D.shift();G.push(D)}for(var F=G.length-1;F>0;F--){var E=Math.floor(Math.random()*(F+1));var s=G[F];G[F]=G[E];G[E]=s}H.forEach(function(i){G.splice(i,0,D)});return G}],mediaFormat:"$MEDIA PR",channelId:"renew_mobile",containerId:"popIn_renew",displayUrlReplace:[{"/news/(\\d+)$":"/news?p=$1"}],adVideoInsertSelector:"#_popIn_recommend_renew",adVideoInsertPosition:"beforeBegin"}],apiUrlAdd:"&r_category=all&country=tw&redirect=false&infinite=nownews&infinite_domain=m.nownews.com",topn:20,apiUrl:location.protocol+"//tw.popin.cc/popin_discovery/recommend?mode=new&url=%target"};if(typeof h["mobile-test"]==="undefined"){h["mobile-test"]={}}h["mobile-test"]["Discovery"]={adVideo:true,adEnable:true,load:"fast",agency:"cnplus",templates:[{abtestName:"standard",channelId:"standard_mobile",adVideoPosition:1,dateFormat:"(Y年M月D日)",delWord:"\\|.+",delImage:"",afterRender:l,css:n["standard.mobile"],imageSize:"160",imageInView:true,infiniteSize:5,infinitePages:3,plugins:["clickall","Infinite"],position:"AfterBegin",selector:"#XXXXX_popIn_recommend",credit:"Recommended by",title:"您也可能喜歡這些文章",type:["pattern",["left","ad",6],["left","cf",20],["rand","ad_reserved",2],["rand","e_ranking",10],["rand","hot","pop","related","recommend",100],function(){var H=[3];var D=["ad_reserved","cf_img","hot_img","related_img","pop_img","recommend_img"];var G=[["cf_img","related_img","hot_img","pop_img","recommend_img"],["cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"]];if(H.length===0){D.shift();G.push(D)}for(var F=G.length-1;F>0;F--){var E=Math.floor(Math.random()*(F+1));var s=G[F];G[F]=G[E];G[E]=s}H.forEach(function(i){G.splice(i,0,D)});return G}],mediaFormat:"PR（$MEDIA）",containerId:"popIn_old",displayUrlReplace:[{"http://":"https://"}],adVideoInsertSelector:"#_popIn_recommend_renew",adVideoInsertPosition:"beforeBegin"}],apiUrlAdd:"&r_category=all&country=tw&redirect=false&infinite=nownews&infinite_domain=m.nownews.com",topn:20,apiUrl:location.protocol+"//tw.popin.cc/popin_discovery/recommend?mode=new&url=%target"};if(typeof h["pc-test"]==="undefined"){h["pc-test"]={}}h["pc-test"]["Discovery"]={adVideo:true,adEnable:true,load:"fast",agency:"cnplus",templates:[{abtestName:"standard",channelId:"standard_mobile",dateFormat:"(Y年M月D日)",delWord:"\\|.+",delImage:"",mediaFormat:"PR（$MEDIA）",plugins:["Imageback"],afterRender:l,css:n["standard.mobile"],imageInView:true,imageSize:"160",position:"AfterBegin",selector:"#XXXXX_popIn_recommend",credit:"Recommended by",title:"您也可能喜歡這些文章",infiniteSize:5,infinitePages:3,type:["pattern",["left","ad",6],["left","cf",20],["rand","ad_reserved",2],["rand","e_ranking",10],["rand","hot","pop","related","recommend",100],function(){var H=[3];var D=["ad_reserved","cf_img","hot_img","related_img","pop_img","recommend_img"];var G=[["cf_img","related_img","hot_img","pop_img","recommend_img"],["cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"]];if(H.length===0){D.shift();G.push(D)}for(var F=G.length-1;F>0;F--){var E=Math.floor(Math.random()*(F+1));var s=G[F];G[F]=G[E];G[E]=s}H.forEach(function(i){G.splice(i,0,D)});return G}],containerId:"popIn_old",displayUrlReplace:[{"http://":"https://"}]}],apiUrlAdd:"&r_category=all&country=tw&redirect=false&infinite=nownews&infinite_domain=m.nownews.com",topn:20,apiUrl:location.protocol+"//tw.popin.cc/popin_discovery/recommend?mode=new&url=%target"};if(typeof h.pc==="undefined"){h.pc={}}h.pc["Discovery"]={adVideo:true,adEnable:true,load:"fast",agency:"cnplus",templates:[{abtestName:"",channelId:"renew_pc",dateFormat:"(Y年M月D日)",delWord:"\\|.+",delImage:"",mediaFormat:"PR",plugins:["Imageback"],afterRender:b,css:n["responsive.pc"],imageInView:false,imageSize:"160",position:"AfterBegin",selector:"#_popIn_recommend_renew",credit:"Recommended by",title:"猜您喜歡",infiniteSize:3,infinitePages:5,type:["pattern",["left","ad",5],["left","cf",20],["rand","ad_reserved",2],["rand","e_ranking",10],["rand","hot","pop","related","recommend",100],function(){var H=[0];var D=["ad_reserved","cf_img","hot_img","related_img","pop_img","recommend_img"];var G=[["cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"]];if(H.length===0){D.shift();G.push(D)}for(var F=G.length-1;F>0;F--){var E=Math.floor(Math.random()*(F+1));var s=G[F];G[F]=G[E];G[E]=s}H.forEach(function(i){G.splice(i,0,D)});return G}],containerId:"popIn_renew",displayUrlReplace:[{"/news/(\\d+)$":"/news?p=$1"}]}],apiUrlAdd:"&r_category=all&country=tw&redirect=false&infinite=nownews&infinite_domain=m.nownews.com",topn:20,apiUrl:location.protocol+"//tw.popin.cc/popin_discovery/recommend?mode=new&url=%target"};if(typeof h!=="undefined"){var C=["all","all-test","pc","pc-test","mobile","mobile-test"];var k=[{channelId:"with_ltr",apiUrl:"https://tw.popin.cc/popin_discovery/recommend?mode=new&url=%target"}];var A=Math.floor(Math.random()*k.length);var c=k[A];for(var y=0,d=C.length;y<d;y++){var v=C[y];if(typeof h[v]!=="undefined"&&typeof h[v].Discovery!=="undefined"){h[v].Discovery.apiUrl=c.apiUrl;h[v].Discovery.segmentData={abtest:c.channelId};for(var w=0,p=h[v].Discovery.templates.length;w<p;w++){var g=h[v].Discovery.templates[w];g.channelId=c.channelId+"__"+g.channelId}}}}var t={pid:"nownews_mobile",urlReplace:[{"[?#].*":""},{"dev.m":"m"}]};var m=1;m+=(location.href.indexOf("popinlib6=true")>-1?1:0);if(m>0){(function(E,H){if(void 0===H[E]){H[E]=function(){H[E].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},H[E].clients=[];for(var G=function(i){return function(){return this["_"+i]=this["_"+i]||[],this["_"+i].push(Array.prototype.slice.call(arguments)),this}},F=["addRecord","set","trackEvent","trackPageview","trackClicks","ready"],j=0;j<F.length;j++){var J=F[j];H[E].prototype[J]=G(J)}var I=document.createElement("script");I.type="text/javascript",I.async=!0,I.src=("https:"===document.location.protocol?"https:":"http:")+"//api.popin.cc/td_js_sdk_171.js";var D=document.getElementsByTagName("script")[0];D.parentNode.insertBefore(I,D)}})("Treasure2",window);(function(){if(typeof window.PopIn6!=="undefined"){return}var af=(typeof window._popIn_ad_block_enable!=="undefined"&&window._popIn_ad_block_enable)?"i.popincdn.com":"api.popin.cc";window.PopIn6={uid:"",_tempLog:[],log:function(aw){this._tempLog.push(aw)},event:{},protocol:(/^https:/.test(window.location.protocol)===true)?"https:":"http:",domain:af};if(typeof Array.prototype.forEach==="undefined"){return}if((typeof window.performance!=="undefined")&&(typeof window.performance.getEntries==="function")){PopIn6.__PERFORMANCE_DISCOVERY_INIT__=window.performance.now()}if(typeof Object.assign!="function"){(function(){Object.assign=function(aA){if(aA===undefined||aA===null){throw new TypeError("Cannot convert undefined or null to object")}var ax=Object(aA);for(var ay=1;ay<arguments.length;ay++){var az=arguments[ay];if(az!==undefined&&az!==null){for(var aw in az){if(Object.prototype.hasOwnProperty.call(az,aw)){ax[aw]=az[aw]}}}}return ax}})()}var an=new Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:"popin_ads"});an.set("$global","td_global_id","td_global_id");an.ready(function(){an.trackValues=an.getTrackValues()});window.PopIn6._logger=an;am(PopIn6.event);function ac(ax,aw,aA,az){var ay=ax.appendChild(document.createElement(aw));if(aA){ay.setAttribute("class",aA)}if(az){ay.appendChild(document.createTextNode(az))}return ay}function G(aw,ay){aw=aw||"about:self";ay=ay||{};var az=(typeof ay.pnode!=="undefined"&&typeof ay.pnode.nodeValue!=="undefined")?ay.pnode:document.body;var ax=ac(az,"iframe");ax.src=aw;ax.setAttribute("scrolling","no");ax.setAttribute("frameBorder","0");ax.setAttribute("allowTransparency","true");(function(aB){aB.display="block";aB.width="0px";aB.height="0px";aB.margin="0px";aB.padding="0px";aB.overflow="none"})(ax.style);var aA={element:ax,document:ax.contentDocument||ax.contentWindow.document,window:(ax.contentWindow)?ax.contentWindow:(ax.contentDocument.document)?ax.contentDocument.document:ax.contentDocument,write:function(aB){aA.document.open();aA.document.write(aB);aA.document.close()}};return aA}function F(aw){var ax=aw.getBoundingClientRect();return ax.top>0&&window.innerHeight-ax.top>0}var ah={valid:true};try{[["local",window.localStorage],["session",window.sessionStorage]].forEach(function(ax){var aw={};var ay=ax[1];ah[ax[0]]=aw;ah.valid=ah.valid&&!!ay.getItem;aw.get=function(az){return ay.getItem(az)};aw.set=function(az,aA){ay.setItem(az,aA)};aw.remove=function(az){ay.removeItem(az)}})}catch(at){ah.valid=false}var U=[];var Q=false;function i(ax,ay){var aw=function(){if(F(ax)){ay();return true}return false};if(!aw()){U.push(aw)}if(D(U)&&Q===false){Q=setInterval(function(){if(U.length>0){for(var aA=U.length;aA--;){var az=U[aA]();if(az){U.splice(aA,1)}}}if(U.length===0){clearInterval(Q);Q=false}},100)}}function D(aw){return typeof aw!=="undefined"&&aw!==""&&aw!==0&&aw!==false&&aw!==null}function L(ay,ax){if(!D(ay)||!D(ax)){return ay}var aw=ay;ax.forEach(function(aA){var az=Object.keys(aA);az.forEach(function(aB){aw=aw.replace(new RegExp(aB),aA[aB])})});return aw}var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!$";function ak(aA){var az=0,aC="",ay="";for(var ax=0,aB=aA.length;ax<aB;ax++){ay=aA.charCodeAt(ax);az=((az<<5)-az)+ay;az|=0}for(var aw=0;aw<6;aw++){aC+=j.charAt(az&63);az>>>=6}return aC}function aj(az){var ay=az.length,ax,aw;while(0!==ay){aw=Math.floor(Math.random()*ay);ay-=1;ax=az[ay];az[ay]=az[aw];az[aw]=ax}return az}function M(aw,az){var aA="_p6_"+(Date.now()*100+Math.round(Math.random()*100)).toString(16);window[aA]=function(aB){az(aB);delete window[aA]};var ay=document.createElement("script");ay.type="text/javascript";ay.charset="utf-8";ay.async=true;ay.src=aw+"&callback="+aA;var ax=document.getElementsByTagName("script")[0];ax.parentNode.insertBefore(ay,ax)}function R(){var aw=navigator.userAgent;return[/(tablet|ipad|playbook|silk)|(?!.*android.?_).*(?=android(?!.*mobile))/i].some(function(ax){return(aw.match(ax))})?"tablet":[/Android/i,/webOS/i,/iPhone/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(ax){return(aw.match(ax))})?"mobile":"pc"}function K(){var aw=window.navigator.userAgent;switch(true){case /Android/.test(aw):return"Android";case /iPhone|iPad|iPod/.test(aw):return"iOS";case /Windows/.test(aw):return"Windows";case /Mac OS X/.test(aw):return"Mac"}return"other"}function ap(ax,aw){try{return aq(ax.split(aw)[1].trim().split(/[^\w\.]/)[0])}catch(ay){}return"0.0.0"}function aq(aw){var ax=aw.split(/[\._]/);return(parseInt(ax[0],10)||0)+"."+(parseInt(ax[1],10)||0)+"."+(parseInt(ax[2],10)||0)}function ad(aw,ax){switch(ax){case"Android":return ap(aw,"Android");case"iOS":return ap(aw,/OS /);case"Windows":return ap(aw,/Phone/.test(aw)?/Windows Phone (?:OS )?/:/Windows NT/);case"Mac":return ap(aw,/Mac OS X /)}return"0.0.0"}function V(aw){switch(true){case /CriOS/.test(aw):return"Chrome for iOS";case /Edge/.test(aw):return"Edge";case /Chrome/.test(aw):return"Chrome";case /Firefox/.test(aw):return"Firefox";case /Android/.test(aw):return"AOSP";case /MSIE|Trident/.test(aw):return"IE";case /Safari\//.test(aw):return"Safari";case /AppleWebKit/.test(aw):return"WebKit";case /Vivaldi/.test(aw):return"Vivaldi"}return""}function ag(ax,aw){switch(aw){case"Chrome for iOS":return ap(ax,"CriOS/");case"Edge":return ap(ax,"Edge/");case"Chrome":return ap(ax,"Chrome/");case"Firefox":return ap(ax,"Firefox/");case"Vivaldi":return ap(ax,"Vivaldi/");case"AOSP":return ap(ax,/Silk/.test(ax)?"Silk/":"Version/");case"IE":return/IEMobile/.test(ax)?ap(ax,"IEMobile/"):/MSIE/.test(ax)?ap(ax,"MSIE "):ap(ax,"rv:");case"Safari":return ap(ax,"Version/");case"Webkit":return ap(ax,"WebKit/")}return""}function ar(){var aw=window.screen;try{aw=window.parent.screen}catch(ax){}return aw?[aw.width,aw.height].join("x"):"-"}function W(){var ay=document.documentElement&&document.documentElement.clientHeight;var aB=document.documentElement&&document.documentElement.clientWidth;var aA=window.innerHeight;var ax=window.innerWidth;var aw=ay<aA?aA:ay;var az=aB<ax?ax:aB;return az+"x"+aw}function I(){var aA=window.navigator;var ax=aA.userAgent;var az=K(ax);var aB=ad(ax,az);var aw=V(ax);var ay=ag(ax,aw);return{os:az,os_version:aB,browser:aw,browser_version:ay,screen:ar(),viewport:W(),user_agent:window.navigator.userAgent,referrer:document.referrer,path:location.pathname,charset:(document.characterSet||document.charset||"-").toLowerCase(),language:aA&&(aA.language||(aA.language||aA.browserLanguage)||"-").toLowerCase(),color:window.screen?window.screen.colorDepth+"-bit":"-",title:document.title,url:document.location.href.split("#")[0],platform:window.navigator.platform,host:document.location.host}}var av=I();function O(ay){var az=ay.split(".");var aw=[];for(var ax=az.pop();az.length>0;ax=az.pop()){if(ax==="www"){break}aw.push(ax);if(ax.length>3&&aw.length>0){break}}return aw.reverse().join(".")}function ae(aw){var ax={};if(aw.indexOf("?")>0){qString=aw.substring(aw.indexOf("?"));aw=aw.substring(0,aw.indexOf("?"));qString.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(az,ay,aB,aA){ax[ay]=aA})}return{url:aw,qString:ax}}function ai(ay){var ax=/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/;var aw=ay.match(ax);if(aw){return{scheme:aw[1],host:aw[2],path:aw[3],query:aw[4],fragment:aw[5]}}else{return null}}function am(aw){aw._listeners={};aw.addEventListener=function(ax,ay){if(!this._listeners[ax]){this._listeners[ax]=[]}this._listeners[ax].push(ay)};aw.fireEvent=function(az,ay){var ax=this;var aA=ax._listeners[az];if(D(aA)){aA.forEach(function(aB){aB.apply(ax,ay)})}}}function s(ay){var ax=[];ax.push('<body style="margin:0px;padding:0px;background-color: transparent;">');ax.push("<script>window.inDapIF = true;<\/script>");ax.push(ay);ax.push("</body>");var aw=G("about:self");aw.write(ax.join(""))}var N={};N.Class=function(ax,aw){this[ax]=function(){if(this.init){this.init.apply(this,arguments)}};this[ax].prototype=aw};var ao=[];N.Class("ArticlesSelector",{init:function(aw){this.template=aw;this.type=aw.type;this.includeRules=[].concat(this.template.includeRules);this.excludeRules=[].concat(this.template.excludeRules);if(this.template.isClickHistory){this.processCookie(aa.cookie)}},getData:function(){var aw=this.process(this.type);var ax=this.template.infiniteSize*this.template.infinitePages;return D(aw)?aw.slice(0,Math.min(ax,aw.length)):[]},deleteDuplicates:function(aA){var ay={};var ax=[];function aw(aF){for(var aD=0;aD<aF.length;aD++){var aE=aD+"_"+aF[aD];if(ay[aE]){return false}else{ay[aE]=1}}return true}ao.forEach(aw);for(var az=0;az<aA.length;az++){var aC=aA[az];var aB=aw(aC.hashData);if(aB){ax.push(aC)}}return ax},processArticle:function(ax,aw){var ay=aw.indexOf("ad")>-1;if(D(ax.title)&&D(this.template.delWord)&&!ay){ax.title=ax.title.replace(new RegExp(this.template.delWord,"g"),"")}if(D(ax.title)){ax.title=ax.title.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&")}if(!D(ax.title)){return false}if(ax.url===au.target){return false}if(ax.pureUrl===void 0){ax.pureUrl=ax.url}if(!ay){ax.url=D(this.template.displayUrlReplace)?L(ax.url,this.template.displayUrlReplace):ax.url;ax.url+=(D(this.template.addQuery)?(((/[?]/.test(ax.url))?"&":"?")+this.template.addQuery):"")}ax.originalUrl=ax.url.indexOf("?url=")>0?decodeURIComponent(ae(ax.url).qString.url):ax.url;if((this.template.delImage&&ax.image.indexOf(this.template.delImage)>=0)||(ax.image==="noimage")){ax.image=""}ax.type=aw;ax.type2=aw+(ax.image?"_img":"_noimg");ax.hashData=[ak(ax.title),ak(ax.originalUrl)];ax.formattedDate=(D(ax.pubdate)&&ax.pubdate!=="000000000000000000")?this.formatDate(ax.pubdate):"";if(!this.isValid(ax)){return false}return ax},formatDate:function(ax){var aw=this.template.dateFormat;if(ax.slice(8,12)==="0000"&&/h|m|s/.test(aw)){aw=aw.replace(/h|m|s|:|：|\s|時|分|秒/g,"")}var ay={Y:[0,4],M:[4,6],D:[6,8],h:[8,10],m:[10,12],s:[12,14]};Object.keys(ay).forEach(function(aA){var az=Number(String.prototype.slice.apply(ax,ay[aA]));if(/m|s/.test(aA)&&az<10){az="0"+az}aw=aw.replace(new RegExp(aA),az)});return aw},isValid:function(az){for(var ay=0,aC=this.excludeRules.length;ay<aC;ay++){var aB=this.excludeRules[ay];if(!aB(az)){return false}}for(var ax=0,aw=this.includeRules.length;ax<aw;ax++){var aA=this.includeRules[ax];if(aA(az)){return true}}return true},getArticlesByType:function(az){var ay=aa[az];var aw=[];for(var ax=0;ax<ay.length;ax++){var aB=Object.assign({},ay[ax]);var aA=this.processArticle(aB,az);if(aA){aw.push(aA)}}return aw},process:function(aw){if(typeof aw==="string"&&aa[aw]){return this.template.forceProcess?this.getArticlesByType(aw):this.deleteDuplicates(this.getArticlesByType(aw))}if(Array.isArray(aw)){var ax=aw[0];if(typeof this[ax]==="function"){return this.template.forceProcess?this[ax](aw):this.deleteDuplicates(this[ax](aw))}}return[]},getMiddle:function(ay){var ax=[];for(var aw=1;aw<ay.length-1;aw++){ax=ax.concat(this.process(ay[aw]))}return ax},rand:function(ay){var aw=ay[ay.length-1];var ax=aj(this.getMiddle(ay));return ax.slice(0,Math.min(aw,ax.length))},left:function(ay){var aw=ay[ay.length-1];var ax=this.getMiddle(ay);return ax.slice(0,Math.min(aw,ax.length))},right:function(ay){var aw=ay[ay.length-1];var ax=this.getMiddle(ay);return ax.slice(Math.max(0,ax.length-aw),ax.length)},pattern:function(aJ){var az=aJ[aJ.length-1];var aG=this.getMiddle(aJ);var aI=[];var aw=[].concat(aG);var aD=true;while(aD){aD=false;var ay=az;while(typeof ay==="function"){ay=ay()}for(var aE=0,ax=ay.length;aE<ax;aE++){var aH=ay[aE];aH=Array.isArray(aH)?aH:[aH];loop:for(var aC=0,aK=aH.length;aC<aK;aC++){var aL=aH[aC];for(var aA=0,aF=aw.length;aA<aF;aA++){var aB=aw[aA];if(aB.type2.search(aL)>-1){aD=true;aI.push(aB);aw.splice(aA,1);break loop}}}}}return aI},processCookie:function(ax){var az=ax._click;if(!D(az)){return}var ay={};var aA=az.split("|");var aw=Date.now();aA.forEach(function(aB){var aC=aB.split(".");var aE=aC[1];var aD=(aw-aC[2])/(24*60*60*1000);if(aD>30){return}if(typeof ay[aE]==="undefined"){ay[aE]=0}ay[aE]++});this.addExcludeRuleForAd(ay)},addExcludeRuleForAd:function(aw){this.excludeRules.push(function(ax){var az=ax.type.indexOf("ad")>-1;if(az&D(aw[ax.nid])){var ay=aw[ax.nid];if(ay>=3){return false}}return true})}});N.Class("ArticleItem",{init:function(aE,aC){for(var ay in aE){this[ay]=aE[ay]}var aw="";var aB="";var aD=window.PopIn6.protocol;var aA=aC.imageSize;var ax=aC.notFoundImg;var aF="";this.ad=aE.type.indexOf("ad")===0;this.reserved=aE.type.indexOf("reserved")>0;if(this.ad){if(D(aC.channelId)){this.url+="&extra=m_ch_"+aC.channelId}this.url+="&api_host="+au.apiHost;if(D(aa.logid)){this.url+="&logid="+aa.logid}if(D(PopIn6.smjId)){this.url+="&smjid="+PopIn6.smjId}this.url+="&piuid="+Y.getUid();aB=aE.image;if(D(aA)&&(""+aA).indexOf("w")===0){aw=aD+"//f.popincdn.com/"+aA+"/";aF=aw+aB}else{aw=aD;aF=aB.indexOf("http://images.popin.cc")>0?aw+aB.replace(/http:\/\/images.popin.cc/,"//i.popincdn.com"):aB;if(aw==="https:"&&aF.indexOf("http://images.popin.cc")>-1){aF=aF.replace(/http:\/\/images.popin.cc/,"https://i.popincdn.com")}}aF=aF.replace(/i.popincdn.com/,"imageaws.popin.cc")}else{if(D(aA)&&(""+aA).indexOf("w")===0){aB=aE.image_url;aw=aD+"//f.popincdn.com/"+aA+"/";aF=aw+aB}else{if(D(aA)&&(""+aA)==="original"){aB=aE.image_url;aF=aB}else{aB=aE.image;if(aB==="noimage"||!D(aB)){aB=""}else{aw=aB.indexOf("http")>-1?"":"https://i.popincdn.com/article/";aF=aw+((aA===""||aB.indexOf("http")>-1)?aB:aB.replace(".","_"+aA+"."))}}}}this.image=D(aB)?aF:ax;var az=ae(this.url);this.token=az.qString.token;this.uid=az.qString.uid}});N.Class("ArticleRenderer",{init:function(aw,ay,ax){this.article=ay;this.articleDiv=aw;this.template=ax;this.ad=ay.type.indexOf("ad")===0;this.render(D(ax.channelId)?ax.channelId:false)},render:function(aA){var aK=this.article;var aw=this.articleDiv;aw.classList.add("_popIn_recommend_article_"+aK.type);if(this.template.isFullClick){aw.setAttribute("href",aK.url)}if(this.template.addTargetBlank){aw.setAttribute("target","_blank")}if(aK.type2.indexOf("_noimg")>-1){aw.classList.add("_popIn_recommend_no_img")}else{aw.classList.add("_popIn_recommend_has_img")}var aH=ac(aw,"div","_popIn_recommend_art_img");var az=ac(aH,"a");az.href=aK.url;az.style.opacity=1;if(this.template.addTargetBlank){az.setAttribute("target","_blank")}var aJ=function(){az.style.backgroundImage="url("+aK.image+")"};if(this.template.imageInView){i(az,aJ)}else{aJ()}var ax=ac(aw,"div","_popIn_recommend_art_title");var aI=ac(ax,"a",false,aK.title);aI.href=aK.url;if(this.template.addTargetBlank){aI.setAttribute("target","_blank")}var aD=ac(aw,"div","_popIn_recommend_art_category",aK.category);if(aK.media){var aF=ac(aw,"div","_popIn_recommend_art_media",this.template.mediaFormat.replace("$MEDIA",aK.media))}var aG=ac(aw,"div","_popIn_recommend_art_date",aK.formattedDate);if(aK.author_name){var aC=ac(aw,"div","_popIn_recommend_art_author",aK.author_name)}var ay=Array.apply(null,aw.querySelectorAll("a"));if(aw.nodeName==="A"){ay.push(aw)}for(var aB=0,aE=ay.length;aB<aE;aB++){this._editLinkNode(ay[aB],aA)}},_editLinkNode:function(aw,ax){if(this.ad){this._editAdLinkNode(aw)}aw.addEventListener("click",this._onClick.bind(this,ax),false)},_editAdLinkNode:function(ax){ax.target="_blank";ax.setAttribute("rel","nofollow");var aw="&mode=20170420&referer_type="+E;if(typeof PopIn6._logger.trackValues!=="undefined"){aw+="&td_client_id="+PopIn6._logger.trackValues.td_client_id}ax.href+=aw},_onClick:function(aA,az){var aB=az.currentTarget;az.preventDefault();az.stopPropagation();var ax=this.article,aw=(aB.target==="_blank"),ay=aB.href;if(/^ad/.test(ax.type)===true){this._onClickAd(ay,ax,aA,aw)}else{this._onClickArticle(ay,ax,aA,aw)}},_onClickArticle:function(ay,ax,az,aw){var aA;if(aw){this._openNewTab(ay)}else{aA=this._movePage.bind(null,ay)}N.Log.articleClickLog(ax,aA,{channelId:az})},_onClickAd:function(ay,ax,az,aw){N.Log.adClickLog(ax,{channelId:az});if(D(ax.click_tracking_pixel)){s(ax.click_tracking_pixel)}if(aw){this._openNewTab(ay)}else{this._movePage(ay)}},_movePage:function(aw){window.top.location.href=aw},_openNewTab:function(aw){window.open(aw,"_blank")}});N.Class("Box",{init:function(aF){var aC=this;this.timeoutId=false;this._canSendChannelImpLog=true;if(!aF.selector&&!(aF.selector=document.querySelector(aF.selectorStr))){if(aC.timeoutId){clearTimeout(aC.timeoutId)}aC.timeoutId=setTimeout(function(){aC.init(aF)},200);return}var ax=new N.ArticlesSelector(aF);var aB=ax.getData();if(aB.length>0){var aD=aB.length%aF.infiniteSize;if(aD!==0){aB=aB.slice(0,aB.length-aD)}aB.forEach(function(aG){ao.push(aG.hashData)});this.data=aB}if(aB.length<aF.infiniteSize){return}this.template=aF;var az=D(aF.channelId)?aF.channelId:false;this.channelId=az;if(au.adEnable){N.Log.adRequestLog()}N.Log.previewLog();N.Log.concatenationPVLog();this.renderBox();N.Performance.addTimeMark("box_did_render").addMark("is_box_rendered",true).report();i(this.container,function(){N.Log.boxInViewLog();if(az){N.Log.intextBoxInViewLog({channelId:az})}});if(az){N.Log.intextBoxRenderedLog({channelId:az})}if(D(aa.common_category)){(function ay(aG,aI){try{if(aI<0){return}var aH=PopIn5.$.Context.findContext(aG);aH.segmentData.commonCategory=aa.common_category;aH.segmentData.mainCategory=encodeURIComponent(aa.category)}catch(aJ){setTimeout(function(){ay(aG,--aI)},200)}})(this.container,20)}if(PopIn6.infinite.isEnable&&!PopIn6.infinite.isStart){PopIn6.infinite.isStart=true;PopIn6.event.fireEvent("infinite-loading",[])}var aw=0;var aE=function(){if(typeof PopIn5!=="undefined"&&D(PopIn5.$)&&D(PopIn5.$.Config)){PopIn5.$.Config.apiHost=au.apiHost;clearInterval(aA)}if(aw>10){clearInterval(aA)}aw++};var aA=setInterval(aE,500)},renderBox:function(){var ax=ac(this.template.selector,"div","_popIn_recommend_container");if(D(this.template.containerId)){ax.setAttribute("id",this.template.containerId)}this.container=ax;var aD=ac(ax,"div","_popIn_recommend_header",this.template.title);var aL=ac(ax,"div","_popIn_recommend_articles");var aB=this.data;var az=aL;var aH=this.template.infiniteSize;var aK=this.template.infinitePages;for(var aC=0,aE=aB.length;aC<aE;aC++){var aG=Math.floor(aC/aH);var aw=aC%aH;if(aG>=aK){break}if(aw===0){az=ac(aL,"div","_popIn_infinite_page")}var aA=new N.ArticleItem(aB[aC],this.template);aA.renderPosition=aC+1;var aI=this.template.isFullClick?"a":"div";var ay=ac(az,aI,"_popIn_recommend_article _popIn_idx"+(aw+1));var aF=new N.ArticleRenderer(ay,aA,this.template);var aJ=(aF.ad===true)?this._onImpForAd:this._onImpForArticle;i(ay,aJ.bind(this,aA))}new N.BoxFooter(ax,this.template);if(typeof this.template.afterRender==="function"){this.template.afterRender(this)}new N.Video(ax,this.template);if(this.template.canInfiniteAds){new N.InfiniteAds(ax,this.template)}},_onImpForArticle:function(aw){N.Log.articleInViewLog(aw)},_onImpForAd:function(aw){N.Log.adBoxRenderedLog();var ax=this.channelId;if(ax&&(this._canSendChannelImpLog===true)){N.Log.intextBoxImpLog({channelId:ax});this._canSendChannelImpLog=false}if(D(aw.debug)){return}var ay=Math.round((Date.now()-X)/1000);if(ay>60*30){return}N.Log.adInViewLog(aw)}});N.Class("BoxFooter",{init:function(ax,ay){if(ay.credit){var aA=ac(ax,"div","_popIn_recommend_credit",ay.credit);var az=ac(aA,"div","_popIn_recommend_credit_image");var aw=this;aA.addEventListener("click",function(){if(R()==="mobile"){window.open("https://www.popin.cc/discovery/what-is.php")}else{aw.showCredit()}})}},close:function(){if(D(this.black)){document.body.removeChild(this.black);this.black=false}},showCredit:function(){var aw=this;var aA=function(){aw.close()};var aB=ac(document.body,"div");aB.id="_popIn_about_black";(function(aC){aC.position="fixed";aC.width="100%";aC.height="100%";aC.left="0px";aC.top="0px";aC.backgroundColor="rgba(0, 0, 0, 0.75)";aC.zIndex=9998})(aB.style);this.black=aB;aB.addEventListener("click",aA);var ay=ac(aB,"div");ay.id="_popIn_about_inner";(function(aC){aC.position="absolute";aC.width="500px";aC.height="450px";aC.left="50%";aC.top="50%";aC.marginLeft="-250px";aC.marginTop="-225px";aC.backgroundColor="white";aC.borderRadius="6px";aC.zIndex=9999})(ay.style);var ax=ac(ay,"div");(function(aC){aC.position="absolute";aC.top="-18px";aC.left="-18px";aC.background="url(https://"+af+"/images/close.png) no-repeat";aC.width="36px";aC.height="36px";aC.cursor="pointer"})(ax.style);ax.addEventListener("click",aA);var az=ac(ay,"iframe");az.src="https://www.popin.cc/discovery/what-is.php";az.frameBorder="0";az.scrolling="no";(function(aC){aC.width="480px";aC.height="430px";aC.border="0px";aC.margin="10px 0px 0px 10px"})(az.style)}});N.Class("Config",{init:function(aA){aA=aA||{};this.setDefaults(aA);var ax=this.findConfig(h);if(!ax){return}for(var az in ax){this[az]=ax[az]}for(var aw in t){this[aw]=t[aw]}var ay=[];if(D(ax.templates)){ax.templates.forEach(function(aB){ay.push(new N.Template(aB))})}this.templates=ay;this.afterConfig()},setDefaults:function(aw){this.device=(R()!=="mobile")?"pc":"mobile";this.target=typeof aw!=="undefined"?aw.target||location.href:location.href;this.media=location.host;this.agency="popinag";this.topn=50;this.pathnum=null;this.ad=10;this.country=false;this.apiUrl=window.PopIn6.protocol+"//discoveryplus.popin.cc/popin_discovery/recommend?";this.isArticle=true;this.segmentData={};this.apiUrlAdd=""},afterConfig:function(){var aw=this;this.target=L(this.target,this.urlReplace);var az=[];az.push("device="+this.device);az.push("media="+this.media);az.push("extra="+K().toLowerCase());az.push("agency="+this.agency);az.push("topn="+this.topn);var ax=[[D(this.cfid),"cfid="+this.cfid],[D(this.adEnable),"ad="+this.ad],[D(this.pathnum),"pathnum="+this.pathnum],[D(this.apiUrlAdd),this.apiUrlAdd.replace(/^&/,"")],[!D(this.isArticle),"related=false"],[D(PopIn6.smjId),"smjid="+PopIn6.smjId]];ax.forEach(function(aA){if(aA[0]){az.push(aA[1])}});this.apiUrl=this.apiUrl.replace("%target",encodeURIComponent(this.target)+"&");if(this.apiUrl.indexOf("url=")===-1){az.push("url="+encodeURIComponent(this.target))}this.apiUrl+=(this.apiUrl.indexOf("?")>-1?(this.apiUrl.slice(-1)!=="?"?"&":""):"?")+az.join("&");var ay=this.getUserTdInfo();ay.user_device=this.device;ay.user_time=Date.now();this.apiUrl+="&info="+btoa(unescape(encodeURIComponent(JSON.stringify(ay))));this.apiHost=ai(this.apiUrl).host.replace("discoveryplus.","jp.")},findConfig:function(az){var ay=(R()!=="mobile")?"pc":"mobile";var ax=D(S)?[ay+"-test",ay,"all-test","all"]:[ay,"all"];for(var aw=0;aw<ax.length;aw++){var aA=ax[aw];if(az[aA]&&az[aA].Discovery){return az[aA].Discovery}}return false},getUserTdInfo:function(){if(!this.userTdData){var ay=av;var ax={};for(var aw in ay){ax["user_td_"+aw]=aw=="title"?encodeURIComponent(ay[aw]):ay[aw]}this.userTdData=ax}return this.userTdData}});N.Class("Criteo",{init:function(aw,ax){this.createProxy(aw,ax);this.aspectArticleRendererAd();this.aspectDiscoveryLog()},createProxy:function(az,aB){var aD=function(){aB(az)};var ay=au.criteoZoneId||"1097335";var ax=au.criteoCampaignId||"5a1407ff211463e92a72d121";var aA=au.criteoNId||"5a140913211463152b72d121";var aC=window.PopIn6.protocol+"//cas.criteo.com/delivery/0.1/napi.jsonp?zoneid="+ay;var aw=this;M(aC,function(aE){if(D(aE)&&aE.response_status===0||S){return aw.setArticleFromProduct(az,aE,aB,ay,ax,aA)}aD()})},setArticleFromProduct:function(aH,aB,az,ay,aE,aw){if(S&&aB.response_status!==0){aB={};aB.products=[{title:"Red shoes",description:"Male running shoes",price:"$ 120",click_url:"http://cat.criteo.com/delivery/ck.php",image:{url:"http://images.popin.cc/discovery/667d8c9b2cdfec7b74b19c8d8f9355f7.png",width:160,height:160}},{title:"Blue shoes",description:"Male running shoes.",price:"$ 120",click_url:"http://cat.criteo.com/delivery/ck.php?debug=true",image:{url:"http://images.popin.cc/discovery/667d8c9b2cdfec7b74b19c8d8f9355f7.png",width:160,height:160}}];aB.privacy={optout_click_url:"http://info.criteo.com/pac/privacy/informations",optout_image_url:"http://static.criteo.net/flash/icon/nai_small.png"};aB.advertiser={logo:{url:"http://images.eu.criteo.net/img/img?c=1&l=1&h=70&w=70",width:70,height:70},logo_click_url:"http://cat.criteo.com/delivery/ck.php",description:"Advertiser",domain:"advertiser.com"};aB.impression_pixels=[{url:"http://cat.criteo.com/delivery/lg.php"},{url:"http://www.advertiser.com/impression.gif"}]}aH.ad_criteo=[];var ax=Math.min(aB.products.length,aH.ad.length);for(var aA=0;aA<ax;aA++){var aF=aB.products[aA];var aG={};var aD=aH.ad[aA].url;aG.criteo=aB;aG.criteoProduct=aF;aG.title=aF.title;aG.image=aF.image.url;aG.nid=aw;aG.campaign=aE;var aC="https://a.popin.cc/popin_redirect/redirect?url={{url}}&nid={{nid}}&campaign={{campaign}}&media={{media}}&device={{device}}&category=criteo&t={{time}}&token={{token}}&uid={{uid}}&nc=1";aC=aC.replace(/{{url}}/,encodeURIComponent(aF.click_url));aC=aC.replace(/{{nid}}/,aw);aC=aC.replace(/{{campaign}}/,aE);aC=aC.replace(/{{media}}/,au.media);aC=aC.replace(/{{device}}/,au.device);aC=aC.replace(/{{time}}/,Date.now());aC=aC.replace(/{{token}}/,Math.random().toString().replace(/\./,""));aC=aC.replace(/{{uid}}/,aD.match(/uid=(.+)/)[1]);aG.url=aC;aG.userid=aB.advertiser.description;aG.domain=aB.advertiser.domain;aH.ad_criteo.push(aG)}return az(aH)},aspectArticleRendererAd:function(){var ax=N.ArticleRenderer.prototype;var aw=ax.render;ax.render=function(){if(D(this.article.criteo)){this.article.media=this.article.criteo.advertiser.domain}aw.apply(this,[])};var ay=ax.addLinkEvent;ax.addLinkEvent=function(){ay.apply(this,[]);if(D(this.article.criteo)){var aC=this.article;var aD=function(aE){if(aE.classList.contains("_popIn_3rdparty")){aE.href=aC.criteo.privacy.optout_click_url;return}};var aA=Array.prototype.slice.call(this.articleDiv.querySelectorAll("A"));var aB=this.template;var az=this.ad;if(aB.isFullClick){if(!az){aA=[this.articleDiv]}else{aA.push(this.articleDiv)}}aA.forEach(function(aE){aD(aE)})}}},aspectDiscoveryLog:function(){var aw=N.Log.adInViewLog;var ax=N.Log.adRequestLog;var ay=function(aC){var aA=aC.impression_pixels;if(!D(aA)){return}for(var aB=0;aB<aA.length;aB++){var az=aA[aB];var aD=new Image();aD.src=az.url}ay=function(){}};N.Log.adInViewLog=function(aA){var az=D(aA.criteo)?{common_category:"criteo"}:{};if(D(aA.criteo)){aw.apply(this,[aA,az]);N.Log.adCriteoInViewLog(aA,az);ay(aA.criteo)}else{aw.apply(this,[aA,az])}};N.Log.adRequestLog=function(){ax.apply(this,[]);N.Log.adCriteoRequestLog()}}});N.Class("CSSManager",{init:function(){this.cache=[];this.css=""},add:function(ax){var ay=ak(ax);var aw=this.cache.some(function(az){return ay===az});if(!aw){this.css+=ax;this.cache.push(ay)}},render:function(){var aw=document.createElement("style");aw.type="text/css";aw.rel="stylesheet";aw.charSet="UTF-8";document.getElementsByTagName("head")[0].appendChild(aw);aw.appendChild(document.createTextNode(this.css))}});N.Class("InfiniteAds",{init:function(aw,ax){if(R()!=="mobile"){return}this.container=aw;this.template=ax;if(typeof PopIn6.infiniteCounter==="undefined"){PopIn6.infiniteCounter=0}this.ic=D(au.infiniteSerializeEnable)?PopIn6.infiniteCounter:0;this.slots=this.getSlots();this.ads=this.getAds();if(D(this.slots)&&D(this.ads)){this.renderAds()}},getSlots:function(){var aw=this.container.querySelectorAll("._popIn_infinite_page");var ay=[];for(var ax=0,aA=aw.length;ax<aA;ax++){var az=aw[ax];if(D(az.querySelector("._popIn_infinite_video"))){continue}ay.push(az)}return ay},getAds:function(){var aw=[].concat(D(aa.infinite)?aa.infinite:[]);return aw},renderAds:function(){var aw=this.ic;for(var ax=0,aA=this.slots.length;ax<aA;ax++){var az=this.slots[ax];var ay=this.ads[aw%this.ads.length];if(D(ay)&&ay.type==="ad"){this.renderOneAd(az,ay)}aw++}PopIn6.infiniteCounter=aw},renderOneAd:function(aB,ax){var aA=ac(aB,"div","_popIn_infinite_ad");aA.style.height=ax.height+"px";var ay=[];ay.push('<body style="margin:0px;padding:0px;background-color: transparent;">');ay.push("<script>window.inDapIF = true;<\/script>");ay.push(ax.script);ay.push("</body>");var aw=G("about:self",{pnode:aA});(function(aC){aC.width=ax.width+"px";aC.height=ax.height+"px";aC.margin="0px auto"})(aw.element.style);var az=function(){aw.write(ay.join(""))};if(D(au.adInView)){i(aA,az)}else{az()}}});N.Class("Loader",{init:function(){function aA(aC){var aG=aC.ad;var aF=aC.ad_smj;if(!aG||au.isShowSmjAd===false||!Array.isArray(aF)||aF.length===0){return}if(aG.length===0){aC.ad=aF;return}var aH={};var aE=0;var aI=[];var aD;while(aD=aF[aE++]){aH[aD.nid]=1;aD.url+="&smjad=1";aD.isSmjAd=true;aI.push(aD)}aE=0;while(aD=aG[aE++]){if(!aH[aD.nid]){aI.push(aD)}}aC.ad=aI}var ax=function(aD){aa=aD;PopIn6.event.fireEvent("result-loaded",[aD]);if(!D(PopIn6.uid)&&D(aD)){var aF=function(aJ){if(ah.valid&&D(aJ)){ah.session.set("_ss_pp_id",aJ);ah.local.set("_ss_pp_id",aJ)}};var aG=aa.cookie;if(D(aG)&&D(aG.uid)){PopIn6.uid=aG.uid;aF(aG.uid)}else{var aE=G("https://api.popin.cc/retarget/uid.html?ac=getuid");var aI=aE.window;window.addEventListener("message",function(aJ){if(aI===aJ.source){aF(aJ.data)}},false)}}if(!D(au.templates)){return}var aC=new N.CSSManager();var aH=au.templates.filter(function(aJ){var aK=aJ.type.slice(-1)[0];if(typeof aK==="number"&&aK===0){return false}aC.add(aJ.css);return true});aC.render();aA(aa);aH.forEach(function(aJ){var aK=new N.Box(aJ)});if(aH.length===0){PopIn6.event.fireEvent("no-content",[])}else{PopIn6.event.fireEvent("start-render",[])}if(au.isArticle){N.Log.relatedLog();N.Log.snsLog()}PopIn6.event.fireEvent("cehck-update",[aa]);return};if(window.context&&(window.context.tagName==="AMP-AD")){PopIn6.event.addEventListener("start-render",function(){setTimeout(function(){var aE=document.getElementById("_popIn_amp_recommend");var aD=aE.offsetWidth+"px";var aC=aE.offsetHeight+"px";window.context.renderStart({width:aD,height:aC})},1)});PopIn6.event.addEventListener("no-content",function(){window.context.noContentAvailable()});window.context.onResizeDenied(function(aD,aC){setTimeout(function(){window.context.requestResize(aC,aD)},500)})}var az=function(){N.Performance.addTimeMark("api_will_request");var aF=au.thirdParty;var aC=false;if(D(aF)){var aD=function(aH,aG,aI){return aH.indexOf("criteo")>-1};aC=aF.some(aD)}if(aC){var aE=ax;ax=function(aG){new N.Criteo(aG,aE)}}M(au.apiUrl,function(aG){if(S>0){window._popIn_discovery_test={result:aG,callback:ax};var aI=document.createElement("script");aI.type="text/javascript";aI.charset="UTF-8";aI.async=true;aI.src="https://i.popincdn.com/test/discovery_test6.js";var aH=document.getElementsByTagName("script")[0];aH.parentNode.insertBefore(aI,aH);return}else{N.Performance.addTimeMark("api_data_will_deal");ax(aG)}})};az();if(D(au.templates)){var ay=au.templates.some(function(aC){return D(aC.selectorStr)&&aC.selectorStr==="._popIn_recommend"});PopIn6.infinite={};PopIn6.infinite.isEnable=ay;PopIn6.infinite.isStart=false;if(ay){var aB=[];if(document.querySelector("._popIn_recommend")){aB.push(document.querySelector("._popIn_recommend"))}var aw=function(){var aC=function(aL,aI){var aK=false;for(var aJ=0,aM=aI.length;aJ<aM;aJ++){if(aL===aI[aJ]){aK=true;break}}return aK};var aD=function(aK){var aI=aK.getAttribute("data-url");au.templates.forEach(function(aL){if(D(aL.selector)&&aL.selectorStr==="._popIn_recommend"){aL.selector=aK}});au.setDefaults();var aJ=au.findConfig(h);if(aJ){au.apiUrl=aJ.apiUrl}au.target=aI;au.afterConfig();az()};var aE=document.querySelectorAll("._popIn_recommend");for(var aF=0,aH=aE.length;aF<aH;aF++){var aG=aE[aF];if(!aC(aG,aB)){aB.push(aG);aD(aG)}}};PopIn6.event.addEventListener("infinite-loading",function(aC){setInterval(aw,500)},false)}}}});N.Log={loggers:{},_addLogger:function(aw,ax){this.loggers[aw]=ax;for(var ay in ax){if(ay.indexOf("_")===0){continue}this._addLogFunction(ay)}},_addLogFunction:function(aw){if(D(this[aw])){return}this[aw]=function(){try{var ax=Array.prototype.slice.call(arguments);PopIn6.log(function(az){var aB=N.Log.loggers[az.type];var aA=aB[aw];if(typeof aA==="function"){var aC=[az].concat(ax);aA.apply(aB,aC);az.execute()}})}catch(ay){console.error(ay)}}}};N.Log._addLogger("basic",{_addSegmentation:function(az,ay){ay=ay||{};var aA=[];var aB=[];var ax=az.data.length-1;while(ax>=0){if(az.data[ax].indexOf("r5=")>-1){var aw=az.data.splice(ax,1);aB.push(aw[0].split("=")[1])}ax-=1}aA.push(["ca",aa.category]);var aC=D(ay.common_category)?ay.common_category:aa.common_category;if(D(au.segmentData.abtest)){aA.push(["ab",au.segmentData.abtest])}if(D(ay.useCommonCategory)){aA.push(["cc",aC])}if(D(ay.onlyCommonCategory)){aA=[["cc",aC]]}if(D(ay.extra)){aA=aA.concat(ay.extra)}aA.forEach(function(aD){if(D(aD[1])){var aE=aD[0];var aF=aD[1];aF=Array.isArray(aF)?aF:[aF];if(aE==="cc"){aF=[aF[0]]}aF.forEach(function(aG){aB.push(aE+"_"+encodeURIComponent(aG))})}});az.add("r5",aB.join("|"))},relatedLog:function(aw){aw.mode="other";var ax=/(jp|tw|kr).popin.cc/.test(au.apiUrl)?"related-"+RegExp.$1:"related";aw.add("type",ax);aw.add("uid","");aw.add("url",encodeURIComponent(au.target));aw.uniqueId="related"},snsLog:function(aw){aw.valid=false;if(Math.random()<1/10){M("https://graph.facebook.com/?ids="+encodeURIComponent(au.target),function(ax){var aA=0;try{for(var ay in ax){aA+=ax[ay].share.share_count}}catch(aB){}if(aA>=30){aw.valid=true}var az=/(jp|tw|kr).popin.cc/.test(au.apiUrl)?"share-"+RegExp.$1:"share-jp";aw.add("url",encodeURIComponent(au.target));aw.add("share",aA);aw.add("type",az);aw.execute()})}},previewLog:function(aw){aw.add("url",encodeURIComponent(au.target));aw.add("uid",PopIn6.uid);aw.add("type",au.device+"_pv");aw.add("nid",au.device);aw.add("media",au.media);aw.uniqueId="pv";this._addSegmentation(aw)},boxInViewLog:function(aw){aw.add("url",encodeURIComponent(au.target));aw.add("uid",PopIn6.uid);aw.add("type",au.device+"_inview");aw.add("nid",au.device);aw.add("media",au.media);aw.uniqueId="inview";this._addSegmentation(aw)},articleClickLog:function(ax,az,aw,ay){ax.add("url","");ax.add("uid",PopIn6.uid);ax.add("type",au.device+"_rclick");ax.add("nid",au.device);ax.add("media",au.media);this._addSegmentation(ax,{extra:[["ch",ay.channelId]]});ax.onError=aw;ax.onComplete=aw},adBoxRenderedLog:function(aw,ax){aw.add("url",encodeURIComponent(au.target));aw.add("uid",PopIn6.uid);aw.add("type",au.device+"_imp");aw.add("nid","");aw.add("media",au.media);aw.uniqueId="imp";this._addSegmentation(aw,{onlyCommonCategory:true})},adInViewLog:function(ax,ay,aw){aw=aw||{};aw.common_category=D(aw.common_category)?aw.common_category:"";ax.trackingPixel=ay.trackingPixel;ax.add("url",encodeURIComponent(au.target));ax.add("uid",PopIn6.uid);ax.add("type",au.device+"_imp");ax.add("nid",ay.nid);ax.add("campaign",ay.campaign);ax.add("media",au.media);this._addSegmentation(ax,{onlyCommonCategory:true,common_category:aw.common_category});ax.add("r6",ay.token);if(D(ay.trackingPixel)){s(ay.trackingPixel)}else{if(D(ay.tracking_pixel)){s(ay.tracking_pixel)}}},intextBoxRenderedLog:function(aw,ax){aw.add("url",encodeURIComponent(au.target));aw.add("uid","");aw.add("type",au.device+"_channel_pv");aw.add("nid",au.device);aw.add("media",au.media);this._addSegmentation(aw,{extra:[["ch",ax.channelId]]})},intextBoxInViewLog:function(aw,ax){aw.add("url",encodeURIComponent(au.target));aw.add("uid","");aw.add("type",au.device+"_channel_inview");aw.add("nid",au.device);aw.add("media",au.media);this._addSegmentation(aw,{extra:[["ch",ax.channelId]]})},intextBoxImpLog:function(aw,ax){aw.add("url",encodeURIComponent(au.target));aw.add("uid","");aw.add("type",au.device+"_channel_imp");aw.add("nid","");aw.add("media",au.media);this._addSegmentation(aw,{extra:[["ch",ax.channelId]]})},videoLog:function(aw,ay,ax){if(ax=="imp"){aw.valid=false}aw.add("url",encodeURIComponent(au.target));aw.add("uid",PopIn6.uid);aw.add("type",au.device+"_video_"+ax);aw.add("nid",ay.video.nid);aw.add("campaign",ay.video.campaign);aw.add("media",au.media);aw.add("r5","cc_video");if((""+ax)==="100"){this._addSegmentation(aw,{useCommonCategory:true})}aw.add("r6","video_imp")}});N.Log._addLogger("treasure",{_addSegmentation:function(ay,ax){ax=ax||{};var az=D(ax.common_category)?ax.common_category:aa.common_category;if(D(az)){ay.add("common_category",Array.isArray(az)?az[0]:az)}ay.add("category",aa.category);if(D(au.segmentData.abtest)){ay.add("abtest",au.segmentData.abtest)}var aw=D(ax.extra)?"m_"+ax.extra[0].join("_"):"";ay.add("extra",aw)},_setCommon:function(aw){aw.add("api_host",au.apiHost);aw.add("device",au.device);aw.add("media",au.media);aw.add("url",au.target);if(D(aa.logid)){aw.add("logid",aa.logid)}if(D(aa.rid)){aw.add("rid",aa.rid)}aw.add("popin_user_id",Y.getUid());aw.add("smjId",PopIn6.smjId||"");var ay=aw.getTrackValues();for(var ax in ay){aw.add(ax,ay[ax])}aw.add("client_id",ay.td_client_id)},adRequestLog:function(aw){aw.db="popin_ads";aw.table="adlogs";aw.add("type","req");aw.add("time_show_seconds",Math.round((Date.now()-X)/1000));aw.add("request_ad",au.ad);aw.add("response_ad",aa.ad.length);aw.add("smjad",(aa.ad_smj&&aa.ad_smj.length)>0?1:0);this._setCommon(aw);this._addSegmentation(aw)},adCriteoRequestLog:function(ax,aw){ax.db="popin_ads";ax.table="adcriteo";ax.add("type","req");ax.add("time_show_seconds",Math.round((Date.now()-X)/1000));ax.add("request_ad",au.ad);ax.add("response_ad",aa.ad.length);this._setCommon(ax);this._addSegmentation(ax)},adInViewLog:function(ax,ay,aw){aw=aw||{};aw.common_category=D(aw.common_category)?aw.common_category:"";ax.db="popin_ads";ax.table="adlogs";ax.add("type",ay.reserved?"reserved_imp":"imp");ax.add("time_show_seconds",Math.round((Date.now()-X)/1000));ax.add("nid",ay.nid);ax.add("campaign",ay.campaign);ax.add("token",ay.token);ax.add("timestamp",Date.now());if(ay.c1){ax.add("c1",ay.c1)}if(ay.c2){ax.add("c2",ay.c2)}if(aa.sample_tag){ax.add("sample_tag",aa.sample_tag)}ax.add("smjad",ay.isSmjAd?1:0);this._setCommon(ax);this._addSegmentation(ax,{common_category:aw.common_category})},adCriteoInViewLog:function(ax,ay,aw){aw=aw||{};aw.common_category=D(aw.common_category)?aw.common_category:"";ax.db="popin_ads";ax.table="adcriteo";ax.add("type",ay.reserved?"reserved_imp":"imp");ax.add("time_show_seconds",Math.round((Date.now()-X)/1000));ax.add("nid",ay.nid);ax.add("campaign",ay.campaign);ax.add("token",ay.token);ax.add("timestamp",Date.now());if(ay.c1){ax.add("c1",ay.c1)}if(ay.c2){ax.add("c2",ay.c2)}if(aa.sample_tag){ax.add("sample_tag",aa.sample_tag)}this._setCommon(ax);this._addSegmentation(ax,{common_category:aw.common_category})},adClickLog:function(ax,ay,aw){ax.db="popin_ads";ax.table="adlogs";ax.add("type","click");ax.add("time_show_seconds",Math.round((Date.now()-X)/1000));ax.add("nid",ay.nid);ax.add("campaign",ay.campaign);ax.add("token",ay.token);ax.add("position",ay.renderPosition);ax.add("timestamp",Date.now());if(ay.c1){ax.add("c1",ay.c1)}if(ay.c2){ax.add("c2",ay.c2)}if(aa.sample_tag){ax.add("sample_tag",aa.sample_tag)}ax.add("smjad",ay.isSmjAd?1:0);this._setCommon(ax);this._addSegmentation(ax,{extra:[["ch",aw.channelId]]})},adMediaDnaLog:function(aw,ax){aw.db="popin_media";aw.table="mediadna_clicks";aw.add("campaign_id",ax.campaign);aw.add("timestamp",Date.now());this._setCommon(aw)},concatenationPVLog:function(ax){var aw=window._popIn_concatenation_param;ax.db="popin_media";ax.table="pageview_concatenation";ax.uniqueId="concatnation_pv";if(!D(aw)){ax.valid=false}else{ax.add("user_id",aw.user_id);ax.add("useragent_popin",aw.useragent);if(location.href.indexOf("tabelog.com")>-1){ax.add("pv_time",aw.pv_time);ax.add("pv_hostname",location.host)}ax.add("timestamp",Date.now())}},previewLog:function(aw){aw.db="popin_media";aw.table="discoverylogs";aw.uniqueId="pv";aw.add("r_url","");aw.add("type",0);this._setCommon(aw);this._addSegmentation(aw)},articleInViewLog:function(ax,az){this.articleCounter=!D(this.articleCounter)?1:this.articleCounter+1;if(this.articleCounter>3){ax.valid=false}ax.db="popin_media";ax.table="discoverylogs";ax.add("r_url",az.url);ax.add("type",1);ax.add("recommend_type",az.type);var aw=aa.identity;if(az.type==="cf"&&typeof aw==="object"){for(var ay in aw){if(aw.hasOwnProperty(ay)){ax.add(ay,aw[ay])}}}this._setCommon(ax);this._addSegmentation(ax)},articleClickLog:function(ay,aB,aw,aA){ay.db="popin_media";ay.table="discoverylogs";ay.add("r_url",aB.url);ay.add("type",2);ay.add("recommend_type",aB.type);ay.add("recommend_position",aB.renderPosition);var ax=aa.identity;if(aB.type==="cf"&&typeof ax==="object"){for(var az in ax){if(ax.hasOwnProperty(az)){ay.add(az,ax[az])}}}this._setCommon(ay);this._addSegmentation(ay,{extra:[["ch",aA.channelId]]})},boxInViewLog:function(aw){aw.db="popin_media";aw.table="discoverylogs";aw.add("r_url","");aw.add("type",3);aw.uniqueId="inview";this._setCommon(aw);this._addSegmentation(aw)},adBoxRenderedLog:function(aw){aw.db="popin_media";aw.table="discoverylogs";aw.add("r_url","");aw.add("type",4);aw.uniqueId="imp";this._setCommon(aw);this._addSegmentation(aw)},videoLog:function(aw,ay,ax){aw.db="popin_ads";aw.table="adlogs";aw.add("type","video_"+ax);aw.add("time_show_seconds",Math.round((Date.now()-X)/1000));aw.add("nid",ay.video.nid);aw.add("campaign",ay.video.campaign);aw.add("timestamp",Date.now())},videoMediaDnaLog:function(aw,ay,ax){aw.db="popin_media";aw.table="mediadna_clicks";aw.add("campaign_id",ay.video.campaign);aw.add("timestamp",Date.now());this._setCommon(aw)},checkSmjIdLog:function(aw,az,ax){aw.db="popin_ads";aw.table="smj_id";aw.add("action","localStorage");aw.add("key",PopIn6.smjId);var ay=window===top?location.host:(document.referrer.match(/^https?:\/\/([^\/]+)/)||[0,""])[1];aw.add("host",ay)}});N.Log._addLogger("inrecsys",{_setCommon:function(aw){var ay=aw.getTrackValues();for(var ax in ay){aw.add(ax,ay[ax])}aw.add("key","key"+X);aw.add("now",Date.now());aw.add("client_id",ay.td_client_id);aw.add("url",au.target);aw.add("popin_user_id",Y.getUid());aw.add("smjId",PopIn6.smjId||"");aw.add("dish_media",au.media);aw.add("dish_category",aa.category||"");aw.add("dish_domain",location.host);if(D(aa.logid)){aw.add("logid",aa.logid)}aw.add("api_host",au.apiHost);var az=["td_browser","td_browser_version","td_os","td_os_version"];az.forEach(function(aA){aw.add(aA,av[aA.replace(/td_/,"")])})},_setArticleData:function(ax,aA){var aC=aa.common_category;if(D(aC)){ax.add("dish_common_category",Array.isArray(aC)?aC[0]:aC)}ax.add("dish_td_title",aa.title||"");ax.add("dish_pubdate",aa.pubdate||"");ax.add("dish_td_url",encodeURIComponent(au.target));var aB=aA.originalUrl;var az=aA.common_category||"";ax.add("fruit_common_category",Array.isArray(az)?az[0]:az);ax.add("fruit_domain",ai(aB).host);ax.add("fruit_td_title",aA.title);ax.add("fruit_pubdate",aA.pubdate);ax.add("fruit_category",aA.category);ax.add("fruit_td_url",aA.pureUrl);ax.add("fruit_media",aA.media);ax.add("fruit_image",aA.image);ax.add("fruit_recommend_type",aA.type);ax.add("fruit_recommend_position",aA.renderPosition);var aw=aa.identity;if(aA.type==="cf"&&typeof aw==="object"){for(var ay in aw){if(aw.hasOwnProperty(ay)){ax.add(ay,aw[ay])}}}},previewLog:function(aw){aw.api="other";aw.uniqueId="pv";this._setCommon(aw);aw.add("domain",location.host)},adInViewLog:function(ax,ay,aw){if(ay.reserved){ax.valid=false}ax.api="ad";this._setCommon(ax);ax.add("type","imp");ax.add("time_show_seconds",Math.round((Date.now()-X)/1000));ax.add("nid",ay.nid);ax.add("campaign",ay.campaign);ax.add("token",ay.token);ax.add("timestamp",Date.now());if(ay.c1){ax.add("c1",ay.c1)}if(ay.c2){ax.add("c2",ay.c2)}if(aa.sample_tag){ax.add("sample_tag",aa.sample_tag)}ax.add("smjad",ay.isSmjAd?1:0)},articleClickLog:function(ax,az,aw,ay){ax.api="discovery";this._setCommon(ax);ax.add("type","click");this._setArticleData(ax,az)},articleInViewLog:function(aw,ax){this.articleCounter=!D(this.articleCounter)?1:this.articleCounter+1;if(this.articleCounter>3){aw.valid=false}aw.api="discovery";this._setCommon(aw);aw.add("type","imp");this._setArticleData(aw,ax)}});N.Performance={isSupported:(window.performance)&&(typeof window.performance.getEntries==="function")&&(typeof window.performance.now==="function"),enableMonitor:false,sample:0.5,isResourceReady:false,db:"fe_performance",table:"base_monitor",marks:{},data:{},resourceFilterRules:[function(aw,ax){if(/popin.cc\/searchbox\/.+\.js$/.test(ax.name)){aw.addMark("request_config_start",ax.startTime);aw.set("rcd",parseInt(ax.duration,10));aw.addMark("request_config_end",ax.responseEnd);return true}},function(aw,ax){if(ax.name.indexOf(au.apiUrl)===0){aw.addMark("request_api_start",ax.startTime);aw.set("rad",parseInt(ax.duration,10));aw.addMark("request_api_end",ax.responseEnd);return true}}],init:function(){if(!this.isSupported){return}var aw=au;if(typeof aw.performanceSample==="number"){this.sample=aw.performanceSample}if(typeof aw.enablePerformanceMonitor!=="undefined"){this.enableMonitor=aw.enablePerformanceMonitor}if(S!==0||Math.random()>this.sample){this.enableMonitor=false}this.addMark("discovery_init",PopIn6.__PERFORMANCE_DISCOVERY_INIT__);if(this.enableMonitor){this.bindEvent()}return this},bindEvent:function(){var aw=this;window.addEventListener("load",function(){aw.isResourceReady=true;if(aw.marks.is_box_rendered){aw.report()}},false)},moniteBoxInview:function(){try{var ay=this;var aw=[];au.templates.forEach(function(aA){var az=aA.selector;if(aw.indexOf(az)===-1){i(az,function(){if(!ay.marks.box_in_view){ay.addTimeMark("box_in_view").report()}});aw.push(az)}})}catch(ax){}},addTimeMark:function(aw){if(!this.isSupported){return this}if(aw==="box_did_render"&&this.marks.box_did_render!==void 0){return this}this.marks[aw]=window.performance.now();return this},addMark:function(aw,ax){this.marks[aw]=ax;return this},set:function(aw,ax){this.data[aw]=ax;return this},collectResourceInfo:function(){var aw=window.performance.getEntries();var aD=this.resourceFilterRules;var aB=aD.length;var ax={};for(var az=0,aA;aA=aw[az++];){for(var ay=0,aC;aC=aD[ay];ay++){if(!aC(this,aA)){continue}ax[aC.key]=aA;aD.splice(ay,1);aB--;break}if(aB===0){break}}},analyse:function(){var aw=this.data;var ax=I();aw.host=ax.host;aw.user_agent=ax.user_agent;aw.browser=ax.browser;aw.browser_version=ax.browser_version;aw.os=ax.os;aw.os_version=ax.os_version;aw.device=R();aw.screen=ax.screen;aw.api_host=au.apiHost;aw.libLoadMode="inline";aw.di_awr=this.calculate("discovery_init","api_will_request");aw.awr_ras=this.calculate("api_will_request","request_api_start");aw.rae_adwd=this.calculate("request_api_end","api_data_will_deal");aw.adwd_bdr=this.calculate("api_data_will_deal","box_did_render");aw.bdr_biv=this.calculate("box_did_render","box_in_view");aw.total=this.calculate("request_config_start","box_did_render");aw.popin_version=6},calculate:function(ay,ax){var aw=this.marks;if(typeof aw[ay]==="undefined"||typeof aw[ax]==="undefined"){return"null"}return parseInt(aw[ax]-aw[ay],10)},report:function(){if(!this.enableMonitor||!this.isResourceReady||!this.marks.is_box_rendered||!this.marks.box_in_view||this.isReported){return}this.collectResourceInfo();this.analyse();if(this.data.total>0){this.log(this.data)}this.isReported=true;return this},log:function(az,ay,aw){aw=aw||this.db;ay=ay||this.table;var ax=new window.Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:aw});ax.addRecord(ay,az);return this}};N.Class("Template",{init:function(ax){this.setDefaults();for(var aw in ax){this[aw]=ax[aw]}this.selectorStr=this.selector;this.selector=document.querySelector(this.selectorStr);this.isFullClick=this.plugins.some(function(ay){return ay.toLowerCase().indexOf("clickall")>-1||ay.toLowerCase().indexOf("fullclick")>-1})},setDefaults:function(){this.notFoundImg=window.PopIn6.protocol+"//"+af+"/images/noimg.png";this.imageInView=true;this.adVideoPosition=1;this.adVideoInsertSelector=false;this.adVideoInsertPosition="BeforeEnd";this.addTargetBlank=false;this.plugins=[];this.isFullClick=false;this.canInfiniteAds=true;this.includeRules=[];this.excludeRules=[];this.dateFormat="Y.M.D";this.isClickHistory=true}});(function(){var aC="";var aB="";var aG="__pi_u_id__";var aH=/^([\d\w]{32})|(\d{13})-\d+$/;var ay="https://api.popin.cc";var aN=ay+"/iframe/piuid.html?ac=piuid&t=15888888";var aF=null;var aD=false;N.Class("UserId",{init:function(){try{if("function"===typeof window.postMessage&&!/.+_sdk$/.test(t.pid)){aM()}aB=az(aG)||"";var aQ=az("_ss_pp_id")||"";if(aH.test(aB)){aC=aB.split("-")[0];return}else{ax(aG)}if(/^([\da-f]{32})|(\d{13})$/.test(aQ)){aC=aQ;aB=aQ+"-"+aw();aO(aG,aB);aD=true;return}else{ax("_ss_pp_id")}PopIn6.event.addEventListener("result-loaded",function(aR){var aS=aR.cookie;if(aS&&aS.uid&&(!aC||aD)){aC=aS.uid;aB=aC+"-"+aw();aO(aG,aB);aD=true}})}catch(aP){aL(aP)}},getUid:function(){if(!aC){aI()}return aC}});function aO(aP,aR){try{localStorage.setItem(aP,aR);return true}catch(aQ){return false}}function az(aP){try{return localStorage.getItem(aP)}catch(aQ){return""}}function ax(aP){try{return localStorage.removeItem(aP)}catch(aQ){return""}}function aM(){aF=G(aN);function aP(aQ){try{if(aF.window!==aQ.source){return}var aR=JSON.parse(aQ.data);if(aR.action==="get"){aK(aR.payload)}else{if(aR.action==="done"){window.removeEventListener("message",aP);aF.parentNode&&aF.parentNode.removeChild(aF);aF=null}}}catch(aS){aL(aS)}}window.addEventListener("message",aP,false)}function aA(aP){if(!aH.test(aP)){return}aF.window.postMessage(JSON.stringify({action:"setId",payload:aP}),ay)}function aK(aR){if("string"!==typeof aR||!aH.test(aR)){aA(aB);return}if(!aC||aD){aB=aR;aC=aR.split("-")[0];aO(aG,aR);aD=false;return}if(aR===aB){return}var aQ=aR.split("-");var aP=aB.split("-");if(aP[1]>=aQ[1]){aC=aQ[0];aO(aG,aR);if(aQ[0]!==aP[0]&&az(aG)===aR){aE({previous_id:aP[0],previous_create_time:aP[1],current_id:aQ[0],current_create_time:aQ[1],host:top.location.host})}return}aA(aB)}function aJ(aP){var aQ=parseInt(Math.floor(Math.random()*Math.pow(16,aP))).toString(16);return(""+Math.pow(10,aP)+aQ).slice(-aP)}function aI(){aC=[aJ(8),aJ(4),aJ(4),aJ(4),aJ(12)].join("");aB=aC+"-"+aw();aO(aG,aB);aD=true;return aB}function aw(){var aP=new Date;aP.setMinutes(aP.getMinutes()+aP.getTimezoneOffset());return aP.getTime()}function aE(aP){if(window.Treasure2){(new window.Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:"popin_user_id"})).addRecord("uid_change_log",aP)}else{setTimeout(function(){aE(aP)},1000)}}function aL(aP){if(window.Treasure2){(new window.Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:"fe_monitor"})).addRecord("err_log",{msg:aP.message||"",stack:aP.stack||"",name:aP.name||"",ua:navigator.userAgent})}else{setTimeout(function(){aL(aP)},1000)}}})();N.Class("Video",{init:function(aw,ax){this.container=aw;this.template=ax;this.logs={};if(typeof _popIn_noVideo_loader==="function"){PopIn6.event.addEventListener("no-video",_popIn_noVideo_loader)}if(!ah.valid){return}if(R()!=="mobile"){return}var ay=this.getVideo();if(D(ay)){this.renderVideo(ay)}},getVideo:function(){var aC=[];if(D(au.adVideo)&&D(aa.ad_video)){aC=aC.concat(aa.ad_video)}if(D(au.adReservedVideo)&&D(aa.ad_reserved_video)){aC=aC.concat(aa.ad_reserved_video)}if(aC.length===0){PopIn6.event.fireEvent("no-video",[])}var aB=ah.session.get("_video")||"";aB=aB.split(".");var aA=[];for(var az=0;az<aC.length;az++){var ay=aC[az];var ax=0;for(var aw=0;aw<aB.length;aw++){if(aB[aw]===ay.nid){ax++}}if(ax>1){continue}aA.push(ay)}return aA.length>0?aA[0]:false},createContainer:function(){var aw=false;if(typeof window._popIn_video6!=="undefined"){return false}if(D(this.template.adVideoInsertSelector)){aw=document.body.querySelectorAll(this.template.adVideoInsertSelector)}else{aw=this.container.querySelectorAll("._popIn_infinite_page")}if(aw.length>0&&this.template.adVideoPosition-1<aw.length){return aw[this.template.adVideoPosition-1]}return false},renderVideo:function(ay){var ax=this.createContainer();if(!D(ax)){return}var aw=ac(document.createDocumentFragment(),"div","_popIn_infinite_video");var aC=this.template.adVideoInsertPosition.toLowerCase();if(aC==="beforebegin"){ax.parentNode.insertBefore(aw,ax)}if(aC==="afterbegin"){ax.insertBefore(aw,ax.firstChild)}if(aC==="beforeend"){ax.appendChild(aw)}if(aC==="afterend"){ax.parentNode.insertBefore(aw,ax.nextSibling)}var aE=ai(au.apiUrl);var aF=[["discoveryplus.popin.cc","jp"],["jp.popin.cc","jp"],["tw.popin.cc","tw"],["kr.popin.cc","kr"],["popin.cc","jp"]];var aB="jp";for(var aD=0,aA=aF.length;aD<aA;aD++){var az=aF[aD];if(aE.host.indexOf(az[0])>-1){aB=az[1];break}}window._popIn_video6={container:aw,data:ay,logger:this,country:aB};var aG=document.createElement("script");aG.type="text/javascript";aG.charset="UTF-8";aG.async=true;aG.src=window.PopIn6.protocol+"//"+af+"/popin_video6_ads-min.js";var aH=document.getElementsByTagName("script")[0];aH.parentNode.insertBefore(aG,aH);return},log:function(az){var aH=az.type;var aC=aH+(D(az.value)?"_"+az.value:"");if(!D(this.logs[aC])){this.logs[aC]=1}else{this.logs[aC]++}var ax=this.logs[aC];az.counter=ax;var aE=az.video;var aJ=(D(aE.type)&&aE.type==="vast")?true:false;if(aH==="second"&&ax>1){return}if(aH==="percent"&&ax>1){return}var aI=D(aE.video.background)||(D(aE.video.type)&&aE.video.type==="vertical");var aB=au.apiHost;function aw(aK){aK.forEach(function(aL){aD(aL,true)})}function aD(aK,aL){new Image().src=aK+(D(aL)?"":"&t="+Date.now())}function aA(aK){N.Log.videoLog(az,aK)}if(aC==="full"&&aJ&&D(aE.ClickTracking)&&ax===1){aw(aE.ClickTracking)}if(aC==="second_1"){}if(D(aE.video.play_time_seconds)&&aC==="second_"+aE.video.play_time_seconds){var aG=aE.url;aG+=((aG.indexOf("?")>0?"&":"?")+"type="+(aI?"vertical_":"")+"imp&api_host="+aB);aD(aG+"&target=c");if(aJ&&D(aE.Impression)){aw(aE.Impression)}aA("playTimeSeconds")}if(aC==="percent_100"){var aF=aE.url;aF+=((aF.indexOf("?")>0?"&":"?")+"type=end&api_host="+aB);aD(aF);if(aJ&&D(aE.complete)){aw(aE.complete)}}if(aC==="second_2"){this.saveHistory(az);var ay=aE.url;ay+=((ay.indexOf("?")>0?"&":"?")+"type="+(aI?"vertical_":"")+"imp&api_host="+aB);aD(ay+(D(aE.video.play_time_seconds)?"&target=m":""));aA("imp");N.Log.videoMediaDnaLog(az,aH);if(aJ&&D(aE.start)){aw(aE.start)}return aA("2s")}if(aC==="second_3"){return aA("3s")}if(aH==="percent"){if(az.value%25===0||az.value===95){if(aJ){switch(az.value){case 25:aw(aE.firstQuartile);break;case 50:aw(aE.midpoint);break;case 75:aw(aE.thirdQuartile);break;default:break}}return aA(""+az.value)}}if(aH==="share"){return aA("share_"+az.value)}if(!D(az.value)){return aA(aH)}},saveHistory:function(ax){var aw=ah.session.get("_video");if(D(aw)){aw+=("."+ax.video.nid)}else{aw=ax.video.nid}ah.session.set("_video",aw)}});var S=0;S+=(location.href.indexOf("popintest=true")>-1?1:0);S+=(location.href.indexOf("popinadtest=true")>-1?1:0);S+=(location.href.indexOf("popinadid=")>-1?1:0);S+=(location.href.indexOf("popinadimage=")>-1?1:0);S+=(location.href.indexOf("popinvideotest=")>-1?1:0);var Z="__smjidfa__";if(ah.valid){PopIn6.smjId=ah.local.get(Z)}var Y=new N.UserId();var au=new N.Config();var aa={};var X=Date.now();window.PopIn=window.PopIn||{};window.PopIn.init=function(aw){aw=aw||{};Y=new N.UserId();ao=[];au=new N.Config(aw);aa={};X=Date.now();new N.Loader()};var H="";if(ah.valid){H=ah.local.get("_ss_pp_id")||""}var T=function(){var aA=[["news.google.co","portal_google"],["search.yahoo.co","search_yahoo"],["facebook.co","sns_facebook"],["twitter.co","sns_twitter"],["t.co$","sns_twitter"],["yahoo.co","portal_yahoo"],["goo.ne","portal_goo"],["infoseek.co","portal_infoseek"],["msn.com","portal_msn"],["excite.co.jp","portal_excite"],["livedoor.com","portal_livedoor"],["search.naver.com","search_naver"],["naver.com|naver.jp","sns_naver"],["hatena.ne.jp","sns_hatena"],["aol.jp","portal_aol"],["google.co","search_google"],["www.bing.com","search_bing"],["www.biglobe.ne.jp","portal_biglobe"],["www.smartnews.be|www.smartnews.com","app_smartnews"],["gunosy.com","app_gunosy"],["newspicks.com","app_newspicks"],["antenna.jp","app_antenna"],["paid.outbrain.com","paid_outbrain"],["trc.taboola.com","paid_yahoo"],["dsp.logly.co.jp","paid_logly"]];aA.push([location.host,"site"]);var ay="other";var az=ai(document.referrer).host;for(var ax=0,aB=aA.length;ax<aB;ax++){var aw=aA[ax];if(RegExp(aw[0]).test(az)){ay=aw[1];break}}if(document.referrer===""){ay="organic"}if(location.href.indexOf("utm_medium=logly")>-1){ay="paid_logly"}return ay};var E=T();N.Performance.init();try{var ab=navigator.userAgent;if(au.checkSmjId!==false&&R()!=="pc"&&(ab.indexOf("Safari")>-1&&ab.indexOf("Chrome")<1)&&!/.+_sdk$/.test(au.pid)&&/^https?:\/\/(jp|discoveryplus).popin.cc/.test(au.apiUrl)){if(!PopIn6.smjId){var P=G("https://api.popin.cc/smj/get.html");var J=P.window;function al(aw){if(J!==aw.source){return}if("string"===typeof aw.data&&aw.data!="undefined"){PopIn6.smjId=aw.data;ah.valid&&ah.local.set(Z,aw.data)}window.removeEventListener("message",al)}window.addEventListener("message",al,false)}else{N.Log.checkSmjIdLog()}}}catch(at){}new N.Loader()})();var B=function(){var j=0;var i=false;var E=function(G){j++;i=G};window.addEventListener("touchstart",E,false);window.addEventListener("click",E,false);window.addEventListener("mousedown",E,false);var s={};function D(G){if(G.valid===false){return false}if(G.uniqueId){var H=G.type+"|"+G.uniqueId;if(s[H]){return false}s[H]=1}return true}var F={};F.Class=function(H,G){this[H]=function(){if(this.init){this.init.apply(this,arguments)}};G.type=H.toLowerCase();this[H].prototype=G};F.Class("Basic",{init:function(){this.data=[];this.mode="normal"},add:function(G,H){this.data.push(G+"="+H)},imageLog:function(H){var G=new Image();if(this.onComplete){G.onload=this.onComplete}if(this.onError){G.onerror=this.onError}G.src=H},execute:function(){this.add("t",Date.now());var G=window.PopIn6.protocol;if(D(this)){switch(this.mode){case"normal":this.imageLog(G+"//rlog.popin.cc/s.gif?"+this.data.join("&"));break;case"other":this.imageLog(G+"//r.popin.cc/log.gif?"+this.data.join("&"));break}}}});F.Class("Treasure",{init:function(){this.data={}},add:function(G,H){this.data[G]=H},getTrackValues:function(){return PopIn6._logger.trackValues||{}},execute:function(){var H=new Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:this.db});H.set("$global","td_global_id","td_global_id");this.data.interaction_number=j;if(i){if(i.touches){var I=i.touches[0];this.data.interaction_touchx=Math.round(I.pageX);this.data.interaction_touchy=Math.round(I.pageY)}if(i.type==="mousedown"){this.data.interaction_mousex=Math.round(i.pageX);this.data.interaction_mousey=Math.round(i.pageY)}}var G=this;this.add("popin_version",6);if(D(this)){H.addRecord(this.table,this.data,function(){if(G.onComplete){G.onComplete()}},function(){if(G.onError){G.onError()}})}}});F.Class("Inrecsys",{init:function(){this.data={}},getTrackValues:function(){return PopIn6._logger.trackValues||{}},add:function(G,H){this.data[G]=H},imageLog:function(H){var G=new Image();if(this.onComplete){G.onload=this.onComplete}if(this.onError){G.onerror=this.onError}G.src=H},execute:function(){this.add("popin_version",6);var G=JSON.stringify(this.data);var H=btoa(unescape(encodeURIComponent(G)));if(D(this)){this.imageLog(window.PopIn6.protocol+"//inrecsys.popin.cc/PopinService/Logs/"+this.api+"?data="+H)}}});PopIn6.log=function(G){G(new F.Basic());G(new F.Treasure());G(new F.Inrecsys())};if(PopIn6._tempLog){while(PopIn6._tempLog.length>0){PopIn6.log(PopIn6._tempLog.shift())}}};B();var z=function(s){var j=[];j.push("all-test");var E=PopIn5.$F.isMobileDevice()?"mobile":"pc";if(location.href.indexOf("popintest=true")>0){j.push(E+"-test")}j.push(E);j.push("all");for(var D=0;D<j.length;D++){var F=j[D];if(PopIn5.$F.notEmpty(h[F])&&PopIn5.$F.notEmpty(h[F][s])){return h[F][s]}}return false};if(typeof _popIn5_config["*"]==="undefined"){_popIn5_config["*"]=t}if(typeof _popIn5_config.Discovery==="undefined"){_popIn5_config.Discovery=function(){return false}}if(typeof _popIn5_config.Read==="undefined"){_popIn5_config.Read=function(){return z("Read")}}var f=false;var e=document.getElementsByTagName("script");for(var y=0,d=e.length;y<d;y++){var v=e[y];if(v.src.indexOf("popin_discovery5-min.js")>-1){f=true}}if(!f){var a=document.createElement("script"),u=window.PopIn6;a.type="text/javascript";a.charset="utf-8";a.async=true;a.src=u.protocol+"//"+u.domain+"/popin_discovery5-min.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(a,r)}return}var z=function(s){var j=[];j.push("all-test");var E=PopIn5.$F.isMobileDevice()?"mobile":"pc";if(location.href.indexOf("popintest=true")>0){j.push(E+"-test")}j.push(E);j.push("all");for(var D=0;D<j.length;D++){var F=j[D];if(PopIn5.$F.notEmpty(h[F])&&PopIn5.$F.notEmpty(h[F][s])){return h[F][s]}}return false};if(typeof _popIn5_config["*"]==="undefined"){_popIn5_config["*"]=t}if(typeof _popIn5_config.Discovery==="undefined"){_popIn5_config.Discovery=function(){return z("Discovery")}}if(typeof _popIn5_config.Read==="undefined"){_popIn5_config.Read=function(){return z("Read")}}var a=document.createElement("script");a.type="text/javascript";a.charset="utf-8";a.async=true;a.src=window.location.protocol+"//api.popin.cc/popin_discovery5-min.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(a,r)})();